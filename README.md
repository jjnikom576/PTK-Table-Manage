# à¸£à¸°à¸šà¸šà¸ˆà¸±à¸”à¸•à¸²à¸£à¸²à¸‡à¸ªà¸­à¸™à¹à¸šà¸š Multi-Year (Enhanced School Schedule Management System)

## ğŸ“‹ Project Overview
à¸£à¸°à¸šà¸šà¸ˆà¸±à¸”à¸à¸²à¸£à¸•à¸²à¸£à¸²à¸‡à¸ªà¸­à¸™à¸ªà¸³à¸«à¸£à¸±à¸šà¹‚à¸£à¸‡à¹€à¸£à¸µà¸¢à¸™à¸¡à¸±à¸˜à¸¢à¸¡à¸¨à¸¶à¸à¸©à¸² à¸£à¸­à¸‡à¸£à¸±à¸šà¸à¸²à¸£à¸ˆà¸±à¸”à¸à¸²à¸£à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸«à¸¥à¸²à¸¢à¸›à¸µà¸à¸²à¸£à¸¨à¸¶à¸à¸©à¸² à¸à¸£à¹‰à¸­à¸¡à¸£à¸°à¸šà¸š Export à¸„à¸£à¸šà¸„à¸£à¸±à¸™ à¹à¸¥à¸°à¸à¸²à¸£à¸ˆà¸±à¸”à¸à¸²à¸£à¸«à¹‰à¸­à¸‡à¹€à¸£à¸µà¸¢à¸™

## âœ¨ Enhanced Features

### ğŸ—“ï¸ Multi-Year Support
- à¸ˆà¸±à¸”à¸à¸²à¸£à¸›à¸µà¸à¸²à¸£à¸¨à¸¶à¸à¸©à¸² 2566-2568+
- à¸ à¸²à¸„à¹€à¸£à¸µà¸¢à¸™ 2-3 à¸ à¸²à¸„à¸•à¹ˆà¸­à¸›à¸µ à¸à¸£à¹‰à¸­à¸¡à¸ à¸²à¸„à¸¤à¸”à¸¹à¸£à¹‰à¸­à¸™
- Context Switching à¹à¸šà¸š Real-time
- Historical Data Analysis à¹à¸¥à¸° Cross-year Comparison

### ğŸ« Rooms Management System
- **Room Types**: à¸«à¹‰à¸­à¸‡à¹€à¸£à¸µà¸¢à¸™à¸—à¸±à¹ˆà¸§à¹„à¸› (CLASS) à¹à¸¥à¸°à¸«à¹‰à¸­à¸‡à¹€à¸—à¸„à¹‚à¸™à¹‚à¸¥à¸¢à¸µ (TECH)
- **Subject Constraints**: à¸§à¸´à¸Šà¸²à¸ªà¸²à¸¡à¸²à¸£à¸–à¸à¸³à¸«à¸™à¸”à¸›à¸£à¸°à¹€à¸ à¸—à¸«à¹‰à¸­à¸‡à¸—à¸µà¹ˆà¸•à¹‰à¸­à¸‡à¸à¸²à¸£
- **Conflict Detection**: à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸šà¸à¸²à¸£à¸Šà¸™à¸à¸±à¸™à¸‚à¸­à¸‡ à¸„à¸£à¸¹/à¸Šà¸±à¹‰à¸™à¹€à¸£à¸µà¸¢à¸™/à¸«à¹‰à¸­à¸‡
- **Room Analytics**: à¸§à¸´à¹€à¸„à¸£à¸²à¸°à¸«à¹Œà¸à¸²à¸£à¹ƒà¸Šà¹‰à¸«à¹‰à¸­à¸‡à¹à¸¥à¸°à¸›à¸£à¸°à¸ªà¸´à¸—à¸˜à¸´à¸ à¸²à¸

### ğŸ“¤ Advanced Export System
- **3 Formats**: CSV (UTF-8+BOM), XLSX, Google Sheets Integration
- **Student Export**: à¸•à¸²à¸£à¸²à¸‡à¹€à¸£à¸µà¸¢à¸™à¸£à¸²à¸¢à¸«à¹‰à¸­à¸‡ à¸à¸£à¹‰à¸­à¸¡à¸„à¸£à¸¹/à¸§à¸´à¸Šà¸²/à¸«à¹‰à¸­à¸‡
- **Teacher Export**: à¸•à¸²à¸£à¸²à¸‡à¸ªà¸­à¸™à¸£à¸²à¸¢à¸„à¸£à¸¹ à¸à¸£à¹‰à¸­à¸¡à¸ à¸²à¸£à¸°à¸‡à¸²à¸™à¸ªà¸£à¸¸à¸›
- **Substitution Export**: à¸£à¸²à¸¢à¸‡à¸²à¸™à¸à¸²à¸£à¸ªà¸­à¸™à¹à¸—à¸™ à¸£à¸²à¸¢à¸§à¸±à¸™/à¸£à¸²à¸¢à¹€à¸”à¸·à¸­à¸™
- **Admin Export**: à¸£à¸²à¸¢à¸‡à¸²à¸™à¸£à¸°à¸šà¸šà¸„à¸£à¸šà¸„à¸£à¸±à¸™

### ğŸ‘¨â€ğŸ« Enhanced Teacher Management
- à¸•à¸²à¸£à¸²à¸‡à¸ªà¸­à¸™à¸£à¸²à¸¢à¸„à¸£à¸¹ à¸à¸£à¹‰à¸­à¸¡ Room Information
- à¸§à¸´à¹€à¸„à¸£à¸²à¸°à¸«à¹Œà¸ à¸²à¸£à¸°à¸‡à¸²à¸™à¸‚à¹‰à¸²à¸¡à¸›à¸µ/à¸‚à¹‰à¸²à¸¡à¸ à¸²à¸„à¹€à¸£à¸µà¸¢à¸™
- Hall of Fame à¸„à¸£à¸¹à¸ªà¸­à¸™à¹à¸—à¸™ (à¹à¸¢à¸à¸•à¸²à¸¡à¸ à¸²à¸„à¹€à¸£à¸µà¸¢à¸™)
- Teacher Evolution Tracking

### âš™ï¸ Advanced Admin Panel
- **Multi-Year CRUD**: à¸„à¸£à¸¹/à¸«à¹‰à¸­à¸‡à¹€à¸£à¸µà¸¢à¸™/à¸«à¹‰à¸­à¸‡/à¸§à¸´à¸Šà¸²/à¸•à¸²à¸£à¸²à¸‡
- **Data Migration Tools**: à¸¢à¹‰à¸²à¸¢/à¹‚à¸„à¸¥à¸™à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸£à¸°à¸«à¸§à¹ˆà¸²à¸‡à¸›à¸µ
- **AI Schedule Generation**: à¸ªà¸£à¹‰à¸²à¸‡à¸•à¸²à¸£à¸²à¸‡à¸­à¸±à¸•à¹‚à¸™à¸¡à¸±à¸•à¸´ (à¸à¸±à¸™à¸Šà¸™à¸„à¸£à¸š 3 à¸¡à¸´à¸•à¸´)
- **Substitute Algorithm**: à¹à¸™à¸°à¸™à¸³à¸„à¸£à¸¹à¸ªà¸­à¸™à¹à¸—à¸™à¸­à¸±à¸•à¹‚à¸™à¸¡à¸±à¸•à¸´
- **Bulk Operations**: Import/Export à¸ˆà¸³à¸™à¸§à¸™à¸¡à¸²à¸

## ğŸ—ï¸ Enhanced Architecture

### Database Schema
**Fixed Tables:**
- `academic_years`: à¸›à¸µà¸à¸²à¸£à¸¨à¸¶à¸à¸©à¸²
- `semesters`: à¸ à¸²à¸„à¹€à¸£à¸µà¸¢à¸™

**Dynamic Tables (per year):**
- `teachers_{year}`: à¸„à¸£à¸¹à¸›à¸£à¸°à¸ˆà¸³à¸›à¸µ
- `classes_{year}`: à¸«à¹‰à¸­à¸‡à¹€à¸£à¸µà¸¢à¸™ (à¸à¸¥à¸¸à¹ˆà¸¡à¸™à¸±à¸à¹€à¸£à¸µà¸¢à¸™)
- `rooms_{year}`: à¸«à¹‰à¸­à¸‡ (à¸à¸²à¸¢à¸ à¸²à¸) â­ï¸
- `subjects_{year}`: à¸§à¸´à¸Šà¸²à¸—à¸µà¹ˆà¸ªà¸­à¸™ + subject_constraints â­ï¸
- `schedules_{year}`: à¸•à¸²à¸£à¸²à¸‡à¸ªà¸­à¸™ (à¹€à¸Šà¸·à¹ˆà¸­à¸¡ class_id + room_id)
- `substitutions_{year}`: à¸à¸²à¸£à¸¥à¸²
- `substitution_schedules_{year}`: à¸à¸²à¸£à¸ªà¸­à¸™à¹à¸—à¸™

### Frontend Structure
```
school-schedule/
â”œâ”€â”€ index.html                     # Multi-year + Export UI
â”œâ”€â”€ css/                          # Enhanced styling
â”œâ”€â”€ js/
â”‚   â”œâ”€â”€ app.js                   # Main app + Export handlers â­ï¸
â”‚   â”œâ”€â”€ utils/
â”‚   â”‚   â””â”€â”€ export.js            # Export utilities â­ï¸
â”‚   â”œâ”€â”€ context/
â”‚   â”‚   â””â”€â”€ globalContext.js     # Context + Rooms integration
â”‚   â”œâ”€â”€ api/
â”‚   â”‚   â”œâ”€â”€ rooms.js             # Rooms API â­ï¸
â”‚   â”‚   â””â”€â”€ ...                  # Other APIs
â”‚   â”œâ”€â”€ data/
â”‚   â”‚   â”œâ”€â”€ rooms.mock.js        # Rooms mock data â­ï¸
â”‚   â”‚   â””â”€â”€ ...                  # Other mock data
â”‚   â”œâ”€â”€ pages/                   # Export-enabled pages â­ï¸
â”‚   â”‚   â”œâ”€â”€ studentSchedule.js   # Student schedules + Export
â”‚   â”‚   â”œâ”€â”€ teacherSchedule.js   # Teacher schedules + Export
â”‚   â”‚   â”œâ”€â”€ substitution.js      # Substitution + Hall of Fame
â”‚   â”‚   â””â”€â”€ admin.js             # Admin panel + Room management
â”‚   â””â”€â”€ services/                # Enhanced services
â””â”€â”€ README.md
```

## ğŸ”§ Setup & Usage

### Development:
```bash
# à¹ƒà¸Šà¹‰ Live Server (VS Code) à¸«à¸£à¸·à¸­
python -m http.server 8000
# à¹€à¸›à¸´à¸” http://localhost:8000
```

### Production (Supabase):
```javascript
// js/api/config.js
const API_CONFIG = {
  baseURL: 'https://your-project.supabase.co/rest/v1',
  // ... other config
};
```

## ğŸ“Š Export Specifications

### Student Schedule Export
**Columns:** à¸§à¸±à¸™, à¹€à¸§à¸¥à¸², à¸„à¸²à¸š, à¸§à¸´à¸Šà¸², à¸£à¸«à¸±à¸ªà¸§à¸´à¸Šà¸², à¸„à¸£à¸¹, à¸«à¹‰à¸­à¸‡à¹€à¸£à¸µà¸¢à¸™, à¸«à¹‰à¸­à¸‡ (à¸›à¸£à¸°à¹€à¸ à¸—)

### Teacher Schedule Export
**Columns:** à¸§à¸±à¸™, à¹€à¸§à¸¥à¸², à¸„à¸²à¸š, à¸§à¸´à¸Šà¸², à¸«à¹‰à¸­à¸‡à¹€à¸£à¸µà¸¢à¸™, à¸«à¹‰à¸­à¸‡, à¸ à¸²à¸£à¸°à¸‡à¸²à¸™à¸£à¸§à¸¡

### Substitution Export
**Columns:** à¸§à¸±à¸™à¸—à¸µà¹ˆ, à¸„à¸£à¸¹à¸—à¸µà¹ˆà¸‚à¸²à¸”, à¹€à¸«à¸•à¸¸à¸œà¸¥, à¸„à¸²à¸š, à¸§à¸´à¸Šà¸², à¸«à¹‰à¸­à¸‡, à¸„à¸£à¸¹à¸ªà¸­à¸™à¹à¸—à¸™

## ğŸ§ª Testing Checklist

- âœ… Context switching â†’ Load data à¸•à¸£à¸‡à¸›à¸µ/à¸ à¸²à¸„à¹€à¸£à¸µà¸¢à¸™
- âœ… Rooms â†’ à¹à¸ªà¸”à¸‡à¸›à¸£à¸°à¹€à¸ à¸—à¹à¸¥à¸°à¸•à¸£à¸§à¸ˆ conflict
- âœ… Export â†’ à¸—à¸¸à¸à¸£à¸¹à¸›à¹à¸šà¸š à¸ à¸²à¸©à¸²à¹„à¸—à¸¢à¸–à¸¹à¸à¸•à¹‰à¸­à¸‡
- âœ… Subject constraints â†’ à¸«à¹‰à¸­à¸‡à¸•à¸£à¸‡à¸•à¸²à¸¡à¸—à¸µà¹ˆà¸à¸³à¸«à¸™à¸”
- âœ… Multi-year comparison â†’ à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸ªà¸­à¸”à¸„à¸¥à¹‰à¸­à¸‡
- âœ… Admin operations â†’ CRUD à¸„à¸£à¸šà¸—à¸¸à¸ entity
- âœ… Migration tools â†’ à¹‚à¸„à¸¥à¸™à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸ªà¸³à¹€à¸£à¹‡à¸ˆ
- âœ… Mobile responsive â†’ Export UI à¹ƒà¸Šà¹‰à¸‡à¸²à¸™à¹„à¸”à¹‰

## ğŸš€ Technology Stack

- **Frontend**: HTML5, CSS3, JavaScript ES6+
- **Architecture**: Multi-year context-aware design
- **Export**: CSV/XLSX/Google Sheets integration
- **Database**: Supabase PostgreSQL (production)
- **Development**: Pure frontend, no build process required

## ğŸ”’ Security & Performance

- Year-based data isolation
- Context-aware access control
- Intelligent caching per year/semester
- Lazy loading for historical data
- Memory management for large datasets

## ğŸ“ˆ Future Enhancements

- PDF Export à¸£à¸²à¸¢à¸‡à¸²à¸™à¸ªà¸§à¸¢à¸‡à¸²à¸¡
- Room Booking System à¹à¸¢à¸à¸•à¹ˆà¸²à¸‡à¸«à¸²à¸
- Dashboard: Workload heatmaps
- Advanced Analytics: Trend analysis
- Mobile App version

## ğŸ¯ Key Components

### 1. Multi-Year Context System
```javascript
// Global context switching
await globalContext.setContext(2567, 1);
const context = getContext();
```

### 2. Export System
```javascript
// Export any schedule data
await exportTableToCSV(data, filename);
await exportTableToXLSX(data, filename);
await exportTableToGoogleSheets(data, filename);
```

### 3. Room Management
```javascript
// Room with constraints
const subject = {
  subject_constraints: { requires_room_type: 'TECH' }
};
```

### 4. Conflict Detection
```javascript
// 3-dimensional conflict check
const conflict = validateScheduleConflict(newSchedule, existing, {
  subjects, rooms, teachers
});
```

## ğŸ“± Pages Overview

### ğŸ“ Student Schedule (`/student-schedule`)
- Class-based schedule views
- Room information display
- Export functionality
- Multi-year comparison

### ğŸ‘¨â€ğŸ« Teacher Schedule (`/teacher-schedule`)
- Workload summary dashboard
- Individual teacher schedules
- Room usage analytics
- Hall of Fame system

### ğŸ”„ Substitution (`/substitution`)
- Hall of Fame rankings
- Daily substitution management
- Export capabilities
- Historical analysis

### âš™ï¸ Admin Panel (`/admin`)
- Multi-year data management
- Room management system
- AI schedule generation
- Comprehensive exports

## ğŸ† Achievement System

### Hall of Fame Features
- Semester-specific rankings
- Teacher substitution tracking
- Achievement badges
- Performance analytics

## ğŸ“„ File Structure Details

```
js/
â”œâ”€â”€ app.js                    # Main application controller
â”œâ”€â”€ navigation.js             # URL routing & navigation
â”œâ”€â”€ utils.js                  # Utility functions
â”œâ”€â”€ utils/
â”‚   â””â”€â”€ export.js            # Export functionality
â”œâ”€â”€ context/
â”‚   â””â”€â”€ globalContext.js     # Global state management
â”œâ”€â”€ services/
â”‚   â”œâ”€â”€ dataService.js       # Data operations
â”‚   â””â”€â”€ yearService.js       # Year management
â”œâ”€â”€ api/                     # API layer
â”œâ”€â”€ data/                    # Mock data
â””â”€â”€ pages/                   # Page controllers
    â”œâ”€â”€ studentSchedule.js   # Student schedule management
    â”œâ”€â”€ teacherSchedule.js   # Teacher schedule management  
    â”œâ”€â”€ substitution.js      # Substitution management
    â””â”€â”€ admin.js             # Admin panel
```

---

**à¸à¸±à¸’à¸™à¸²à¹‚à¸”à¸¢:** Multi-Year School Schedule System  
**à¹€à¸§à¸­à¸£à¹Œà¸Šà¸±à¸™:** 2.0 Enhanced (à¸à¸£à¹‰à¸­à¸¡ Rooms + Export)  
**à¸­à¸±à¸›à¹€à¸”à¸•:** à¸¡à¸à¸£à¸²à¸„à¸¡ 2025

**ğŸ‰ à¸£à¸°à¸šà¸šà¸à¸£à¹‰à¸­à¸¡à¹ƒà¸Šà¹‰à¸‡à¸²à¸™! à¸„à¸£à¸š 26 Prompts Enhanced**
