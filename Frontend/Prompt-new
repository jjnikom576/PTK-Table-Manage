‡∏ß‡∏¥‡∏ò‡∏µ‡πÉ‡∏ä‡πâ‡∏£‡∏≠‡∏ö‡∏ñ‡∏±‡∏î‡πÑ‡∏õ                                                                                                                                                                                                 
                                                                                                                                                                                                              
  - ‡πÅ‡∏Ñ‡πà‡∏ö‡∏≠‡∏Å ‚Äú‡∏î‡∏π AGENTS.md ‡πÄ‡∏õ‡πá‡∏ô‡∏ê‡∏≤‡∏ô‚Äù ‡πÅ‡∏•‡πâ‡∏ß‡∏™‡∏±‡πà‡∏á‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏≤‡∏Å‡∏ó‡∏≥ ‡πÄ‡∏ä‡πà‡∏ô:                                                                                                                                                            
      - ‚Äú‡∏ï‡∏≤‡∏° AGENTS.md ‡πÉ‡∏´‡πâ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏° read-only endpoint academic years ‡πÅ‡∏•‡∏∞‡∏™‡∏•‡∏±‡∏ö client ‡∏à‡∏≤‡∏Å mock ‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏à‡∏∏‡∏î‡∏ô‡∏±‡πâ‡∏ô ‡∏û‡∏£‡πâ‡∏≠‡∏° fallback‚Äù                                                                                               
      - ‚Äú‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á UX error/loading ‡πÉ‡∏´‡πâ‡∏ï‡∏£‡∏á‡∏°‡∏≤‡∏ï‡∏£‡∏ê‡∏≤‡∏ô‡πÉ‡∏ô AGENTS.md ‡∏ö‡∏ô‡∏´‡∏ô‡πâ‡∏≤ teacher/student‚Äù                                                                                                                              
                                                                                                                                                                                                              
  ‡∏≠‡∏¢‡∏≤‡∏Å‡πÉ‡∏´‡πâ‡∏ú‡∏°‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏†‡∏≤‡∏£‡∏Å‡∏¥‡∏à‡πÑ‡∏´‡∏ô‡∏à‡∏≤‡∏Å‡∏•‡∏¥‡∏™‡∏ï‡πå‡∏Ç‡πâ‡∏≠‡πÄ‡∏™‡∏ô‡∏≠‡∏ó‡∏µ‡πà‡πÉ‡∏´‡πâ‡πÑ‡∏ß‡πâ‡πÑ‡∏´‡∏°? ‡πÄ‡∏ä‡πà‡∏ô ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏° API (academic years) ‡πÅ‡∏ö‡∏ö read-only ‡∏Å‡πà‡∏≠‡∏ô ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏™‡∏•‡∏±‡∏ö client ‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡πÄ‡∏™‡πâ‡∏ô‡∏ó‡∏≤‡∏á‡∏ô‡∏±‡πâ‡∏ô?   

  


Prompt 1: Enhanced Project Structure (Multi-Year + Rooms + Export)
‡∏™‡∏£‡πâ‡∏≤‡∏á project structure ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏±‡∏î‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏™‡∏≠‡∏ô‡πÇ‡∏£‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô ‡πÅ‡∏ö‡∏ö Multi-Year ‡∏û‡∏£‡πâ‡∏≠‡∏° Rooms Management ‡πÅ‡∏•‡∏∞ Export System:
school-schedule/
‚îú‚îÄ‚îÄ index.html
‚îú‚îÄ‚îÄ css/
‚îÇ   ‚îú‚îÄ‚îÄ main.css
‚îÇ   ‚îú‚îÄ‚îÄ components.css
‚îÇ   ‚îî‚îÄ‚îÄ responsive.css
‚îú‚îÄ‚îÄ js/
‚îÇ   ‚îú‚îÄ‚îÄ app.js
‚îÇ   ‚îú‚îÄ‚îÄ navigation.js
‚îÇ   ‚îú‚îÄ‚îÄ utils.js
‚îÇ   ‚îú‚îÄ‚îÄ utils/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ export.js            # ‚Üê Export utilities (CSV/XLSX/Sheets)
‚îÇ   ‚îú‚îÄ‚îÄ context/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ globalContext.js
‚îÇ   ‚îú‚îÄ‚îÄ api/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ config.js
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ academicYears.js
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ semesters.js
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ teachers.js
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ classes.js
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ rooms.js            # ‚Üê Rooms API
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ subjects.js
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ schedules.js
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ substitutions.js
‚îÇ   ‚îú‚îÄ‚îÄ data/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ academicYears.mock.js
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ semesters.mock.js
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ teachers.mock.js
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ classes.mock.js
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ rooms.mock.js       # ‚Üê Rooms mock data
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ subjects.mock.js
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ schedules.mock.js
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ substitutions.mock.js
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ index.js
‚îÇ   ‚îú‚îÄ‚îÄ services/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ dataService.js
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ yearService.js
‚îÇ   ‚îî‚îÄ‚îÄ pages/
‚îÇ       ‚îú‚îÄ‚îÄ studentSchedule.js
‚îÇ       ‚îú‚îÄ‚îÄ teacherSchedule.js
‚îÇ       ‚îú‚îÄ‚îÄ substitution.js
‚îÇ       ‚îî‚îÄ‚îÄ admin.js
‚îî‚îÄ‚îÄ README.md

‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå‡πÅ‡∏•‡∏∞‡πÑ‡∏ü‡∏•‡πå‡πÄ‡∏õ‡∏•‡πà‡∏≤‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
‚ö†Ô∏è STRICT TOKEN LIMIT:

‡∏´‡∏¢‡∏∏‡∏î‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÉ‡∏Å‡∏•‡πâ 80% token limit
‡∏´‡∏¢‡∏∏‡∏î‡∏ó‡∏µ‡πà‡∏à‡∏∏‡∏î‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏° (‡∏à‡∏ö function, ‡∏à‡∏ö section)
‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô: "üîÑ [CONTINUE_NEEDED] - ‡∏û‡∏¥‡∏°‡∏û‡πå 'continue' ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ó‡∏≥‡∏ï‡πà‡∏≠‡∏™‡πà‡∏ß‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏´‡∏•‡∏∑‡∏≠"
‡∏ö‡∏≠‡∏Å‡∏ß‡πà‡∏≤‡∏´‡∏¢‡∏∏‡∏î‡∏ï‡∏£‡∏á‡πÑ‡∏´‡∏ô ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏à‡∏∞‡πÑ‡∏î‡πâ‡∏ó‡∏≥‡∏ï‡πà‡∏≠‡∏ñ‡∏π‡∏Å‡∏à‡∏∏‡∏î

‚ö†Ô∏è rule

‡∏ó‡∏≥‡∏ó‡∏µ‡∏•‡∏∞‡∏™‡πà‡∏ß‡∏ô ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏£‡∏±‡∏Å‡∏©‡∏≤ Token Limit
‡∏ó‡∏≥‡∏ï‡∏≤‡∏° Token Limit Rule




** ‡∏≠‡∏¢‡πà‡∏≤‡πÉ‡∏´‡πâ‡∏°‡∏±‡∏ô‡πÄ‡∏Å‡∏¥‡∏ô Token ‡πÇ‡∏ò‡πà‡πÄ‡∏ß‡πà‡∏¢‡∏¢
** ‡∏´‡πâ‡∏≤‡∏°‡∏ó‡∏≥‡∏ô‡∏≠‡∏Å‡πÄ‡∏´‡∏ô‡∏∑‡∏≠‡∏û‡∏£‡∏≠‡∏°‡∏û‡πå‡πÄ‡∏î‡πá‡∏î‡∏Ç‡∏≤‡∏î
** rate limit ‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏ó‡∏µ‡∏™‡∏∏‡∏î ‡∏ó‡∏≥‡∏ó‡∏µ‡∏•‡∏∞‡∏™‡πà‡∏ß‡∏ô‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô
Prompt 2: Enhanced HTML Structure (+ Export UI)
‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå index.html ‡∏û‡∏£‡πâ‡∏≠‡∏° Global Context UI ‡πÅ‡∏•‡∏∞ Export Controls:
Requirements:

HTML5 semantic structure
Meta tags ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Thai language ‡πÅ‡∏•‡∏∞ responsive
Global context bar: "üìÖ ‡∏õ‡∏µ‡∏Å‡∏≤‡∏£‡∏®‡∏∂‡∏Å‡∏©‡∏≤: [2567 ‚ñº] | ‡∏†‡∏≤‡∏Ñ‡πÄ‡∏£‡∏µ‡∏¢‡∏ô: [‡∏†‡∏≤‡∏Ñ‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏ó‡∏µ‡πà 1 ‚ñº]"
Main navigation (4 ‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å)
Sub navigation containers
Page containers ‡∏û‡∏£‡πâ‡∏≠‡∏° Export UI ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏´‡∏ô‡πâ‡∏≤
Export bars ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏´‡∏ô‡πâ‡∏≤ Student ‡πÅ‡∏•‡∏∞ Teacher
Loading states ‡πÅ‡∏•‡∏∞ error messages containers

Title: "‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏±‡∏î‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏™‡∏≠‡∏ô - ‡πÇ‡∏£‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏°‡∏±‡∏ò‡∏¢‡∏°‡∏®‡∏∂‡∏Å‡∏©‡∏≤"
Export UI Requirements:

#page-student: dropdown ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏´‡πâ‡∏≠‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô + Export bar (CSV, XLSX, Google Sheets)
#page-teacher: ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏Ñ‡∏£‡∏π + Export bar ‡πÄ‡∏ä‡πà‡∏ô‡∏Å‡∏±‡∏ô
‡∏õ‡∏∏‡πà‡∏°‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ data-export-type="csv|xlsx|gsheets" ‡πÅ‡∏•‡∏∞ data-target="student|teacher"
Export bars ‡∏°‡∏µ responsive design

‚ö†Ô∏è STRICT TOKEN LIMIT:

‡∏´‡∏¢‡∏∏‡∏î‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÉ‡∏Å‡∏•‡πâ 80% token limit
‡∏´‡∏¢‡∏∏‡∏î‡∏ó‡∏µ‡πà‡∏à‡∏∏‡∏î‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏° (‡∏à‡∏ö section)
‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô: "üîÑ [CONTINUE_NEEDED] - ‡∏û‡∏¥‡∏°‡∏û‡πå 'continue' ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ó‡∏≥‡∏ï‡πà‡∏≠‡∏™‡πà‡∏ß‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏´‡∏•‡∏∑‡∏≠"
‡∏ö‡∏≠‡∏Å‡∏ß‡πà‡∏≤‡∏´‡∏¢‡∏∏‡∏î‡∏ï‡∏£‡∏á‡πÑ‡∏´‡∏ô ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏à‡∏∞‡πÑ‡∏î‡πâ‡∏ó‡∏≥‡∏ï‡πà‡∏≠‡∏ñ‡∏π‡∏Å‡∏à‡∏∏‡∏î

‚ö†Ô∏è rule

‡∏ó‡∏≥‡∏ó‡∏µ‡∏•‡∏∞‡∏™‡πà‡∏ß‡∏ô‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô‡∏ô‡∏ô‡∏ô
‡∏ó‡∏≥‡∏ó‡∏µ‡∏•‡∏∞‡∏™‡πà‡∏ß‡∏ô ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏£‡∏±‡∏Å‡∏©‡∏≤ Token Limit
‡∏ó‡∏≥‡∏ï‡∏≤‡∏° Token Limit Rule




** ‡∏≠‡∏¢‡πà‡∏≤‡πÉ‡∏´‡πâ‡∏°‡∏±‡∏ô‡πÄ‡∏Å‡∏¥‡∏ô Token ‡πÇ‡∏ò‡πà‡πÄ‡∏ß‡πà‡∏¢‡∏¢
** ‡∏´‡πâ‡∏≤‡∏°‡∏ó‡∏≥‡∏ô‡∏≠‡∏Å‡πÄ‡∏´‡∏ô‡∏∑‡∏≠‡∏û‡∏£‡∏≠‡∏°‡∏û‡πå‡πÄ‡∏î‡πá‡∏î‡∏Ç‡∏≤‡∏î
** rate limit ‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏ó‡∏µ‡∏™‡∏∏‡∏î ‡∏ó‡∏≥‡∏ó‡∏µ‡∏•‡∏∞‡∏™‡πà‡∏ß‡∏ô‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô
Prompt 3: Enhanced Global Styles (css/main.css)
‡∏™‡∏£‡πâ‡∏≤‡∏á CSS global styles ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏£‡∏∞‡∏ö‡∏ö Multi-Year ‡∏û‡∏£‡πâ‡∏≠‡∏° Export UI:
Design Requirements:

CSS Reset ‡πÅ‡∏•‡∏∞ box-sizing
Thai-friendly fonts: Sarabun (primary), Kanit (backup)
Enhanced color scheme:

Primary: #4299e1
Secondary: #3182ce
Dark: #2d3748
Light: #f7fafc
Success: #48bb78
Warning: #ed8936
Danger: #f56565
Academic: #805ad5
Room-Tech: #805ad5 (‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏´‡πâ‡∏≠‡∏á‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ)
Room-Class: #3182ce (‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏´‡πâ‡∏≠‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ)


Gradient background: linear-gradient(135deg, #667eea 0%, #764ba2 100%)
Typography scale ‡πÅ‡∏•‡∏∞ spacing system
Button base styles ‡∏û‡∏£‡πâ‡∏≠‡∏° variants (.btn--primary, .btn--outline, .btn--ghost, .btn--sm)
Export button styling (.btn--export, .export-bar)
Form elements base styles
Global context bar styling
Container ‡πÅ‡∏•‡∏∞ layout utilities
Room type badges styling

‚ö†Ô∏è STRICT TOKEN LIMIT:

‡∏´‡∏¢‡∏∏‡∏î‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÉ‡∏Å‡∏•‡πâ 80% token limit
‡∏´‡∏¢‡∏∏‡∏î‡∏ó‡∏µ‡πà‡∏à‡∏∏‡∏î‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏° (‡∏à‡∏ö section)
‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô: "üîÑ [CONTINUE_NEEDED] - ‡∏û‡∏¥‡∏°‡∏û‡πå 'continue' ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ó‡∏≥‡∏ï‡πà‡∏≠‡∏™‡πà‡∏ß‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏´‡∏•‡∏∑‡∏≠"
‡∏ö‡∏≠‡∏Å‡∏ß‡πà‡∏≤‡∏´‡∏¢‡∏∏‡∏î‡∏ï‡∏£‡∏á‡πÑ‡∏´‡∏ô ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏à‡∏∞‡πÑ‡∏î‡πâ‡∏ó‡∏≥‡∏ï‡πà‡∏≠‡∏ñ‡∏π‡∏Å‡∏à‡∏∏‡∏î

‚ö†Ô∏è rule

‡∏ó‡∏≥‡∏ó‡∏µ‡∏•‡∏∞‡∏™‡πà‡∏ß‡∏ô‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô‡∏ô‡∏ô‡∏ô
‡∏ó‡∏≥‡∏ó‡∏µ‡∏•‡∏∞‡∏™‡πà‡∏ß‡∏ô ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏£‡∏±‡∏Å‡∏©‡∏≤ Token Limit
‡∏ó‡∏≥‡∏ï‡∏≤‡∏° Token Limit Rule




** ‡∏≠‡∏¢‡πà‡∏≤‡πÉ‡∏´‡πâ‡∏°‡∏±‡∏ô‡πÄ‡∏Å‡∏¥‡∏ô Token ‡πÇ‡∏ò‡πà‡πÄ‡∏ß‡πà‡∏¢‡∏¢
** ‡∏´‡πâ‡∏≤‡∏°‡∏ó‡∏≥‡∏ô‡∏≠‡∏Å‡πÄ‡∏´‡∏ô‡∏∑‡∏≠‡∏û‡∏£‡∏≠‡∏°‡∏û‡πå‡πÄ‡∏î‡πá‡∏î‡∏Ç‡∏≤‡∏î
** rate limit ‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏ó‡∏µ‡∏™‡∏∏‡∏î ‡∏ó‡∏≥‡∏ó‡∏µ‡∏•‡∏∞‡∏™‡πà‡∏ß‡∏ô‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô
Prompt 4: Enhanced Component Styles (css/components.css)
‡∏™‡∏£‡πâ‡∏≤‡∏á component-specific CSS ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Multi-Year System ‡∏û‡∏£‡πâ‡∏≠‡∏° Export ‡πÅ‡∏•‡∏∞ Rooms:
Components ‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£:

Global Context Bar (academic year + semester selectors)
Enhanced Navigation (main nav + sub nav)
Export Bar Components (‡πÉ‡∏´‡∏°‡πà)

.export-bar - flex container
.btn--export - export button styling
Export loading states


Multi-Year Cards (year-specific data cards)
Enhanced Tables (schedule tables ‡∏û‡∏£‡πâ‡∏≠‡∏° year headers ‡πÅ‡∏•‡∏∞ room info)

3-line cells: ‡∏ß‡∏¥‡∏ä‡∏≤ / ‡∏Ñ‡∏£‡∏π / ‡∏´‡πâ‡∏≠‡∏á
Room type badges (.badge--tech, .badge--classroom)


Room Management UI (‡πÉ‡∏´‡∏°‡πà)

Room type indicators
Capacity displays
Room conflict warnings


Admin Management UI (form components ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö CRUD rooms)
Academic Context Indicators (year badges, semester indicators)
Enhanced Ranking/Achievement UI (Hall of Fame displays)
Loading & State Management components

‡πÅ‡∏ï‡πà‡∏•‡∏∞ component ‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ:

Context-aware styling
Export-ready states
Room-aware displays
Smooth transitions
Accessibility compliance
Mobile optimization

‚ö†Ô∏è STRICT TOKEN LIMIT:

‡∏´‡∏¢‡∏∏‡∏î‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÉ‡∏Å‡∏•‡πâ 80% token limit
‡∏´‡∏¢‡∏∏‡∏î‡∏ó‡∏µ‡πà‡∏à‡∏∏‡∏î‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏° (‡∏à‡∏ö component section)
‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô: "üîÑ [CONTINUE_NEEDED] - ‡∏û‡∏¥‡∏°‡∏û‡πå 'continue' ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ó‡∏≥‡∏ï‡πà‡∏≠‡∏™‡πà‡∏ß‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏´‡∏•‡∏∑‡∏≠"
‡∏ö‡∏≠‡∏Å‡∏ß‡πà‡∏≤‡∏´‡∏¢‡∏∏‡∏î‡∏ï‡∏£‡∏á‡πÑ‡∏´‡∏ô ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏à‡∏∞‡πÑ‡∏î‡πâ‡∏ó‡∏≥‡∏ï‡πà‡∏≠‡∏ñ‡∏π‡∏Å‡∏à‡∏∏‡∏î

‚ö†Ô∏è rule

‡∏ó‡∏≥‡∏ó‡∏µ‡∏•‡∏∞‡∏™‡πà‡∏ß‡∏ô ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏£‡∏±‡∏Å‡∏©‡∏≤ Token Limit
‡∏ó‡∏≥‡∏ï‡∏≤‡∏° Token Limit Rule




** ‡∏≠‡∏¢‡πà‡∏≤‡πÉ‡∏´‡πâ‡∏°‡∏±‡∏ô‡πÄ‡∏Å‡∏¥‡∏ô Token ‡πÇ‡∏ò‡πà‡πÄ‡∏ß‡πà‡∏¢‡∏¢
** ‡∏´‡πâ‡∏≤‡∏°‡∏ó‡∏≥‡∏ô‡∏≠‡∏Å‡πÄ‡∏´‡∏ô‡∏∑‡∏≠‡∏û‡∏£‡∏≠‡∏°‡∏û‡πå‡πÄ‡∏î‡πá‡∏î‡∏Ç‡∏≤‡∏î
** rate limit ‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏ó‡∏µ‡∏™‡∏∏‡∏î ‡∏ó‡∏≥‡∏ó‡∏µ‡∏•‡∏∞‡∏™‡πà‡∏ß‡∏ô‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô
Prompt 5: Enhanced Responsive Design (css/responsive.css)
‡∏™‡∏£‡πâ‡∏≤‡∏á responsive CSS ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Multi-Year System ‡∏û‡∏£‡πâ‡∏≠‡∏° Export UI ‡πÅ‡∏•‡∏∞ Rooms:
Breakpoints:

Mobile: 320px-768px
Tablet: 768px-1024px
Desktop: 1024px+

Mobile-first Enhancements:

Global context bar responsive behavior
Collapsible academic year/semester selectors
Export bar responsive: wrap ‡πÄ‡∏õ‡πá‡∏ô 2 ‡πÅ‡∏ñ‡∏ß, ‡∏õ‡∏∏‡πà‡∏° .btn--sm
Touch-friendly admin management UI
Responsive multi-year data displays
Table responsive: ‡∏ï‡∏±‡∏ß‡∏≠‡∏±‡∏Å‡∏©‡∏£‡πÄ‡∏•‡πá‡∏Å‡∏•‡∏á, ‡∏ã‡πà‡∏≠‡∏ô‡∏Ñ‡∏≠‡∏•‡∏±‡∏°‡∏ô‡πå‡∏ß‡πà‡∏≤‡∏á, ‡∏Ñ‡∏á‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î "‡∏´‡πâ‡∏≠‡∏á" ‡πÑ‡∏ß‡πâ
Room type badges ‡∏Ç‡∏ô‡∏≤‡∏î‡πÄ‡∏•‡πá‡∏Å

Tablet (768px-1024px):

Export bar ‡∏ä‡∏¥‡∏î‡∏Ç‡∏ß‡∏≤, ‡∏Ñ‡∏á‡∏Ç‡∏ô‡∏≤‡∏î‡∏õ‡∏∏‡πà‡∏°‡∏õ‡∏Å‡∏ï‡∏¥
‡∏ï‡∏≤‡∏£‡∏≤‡∏á: ‡∏Ñ‡∏≠‡∏•‡∏±‡∏°‡∏ô‡πå 1-6 ‡∏ä‡∏±‡∏î, ‡∏ñ‡πâ‡∏≤‡πÄ‡∏Å‡∏¥‡∏ô wrap
Room management UI optimized

Desktop (1024px+):

‡∏ó‡∏∏‡∏Å‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÄ‡∏ï‡πá‡∏°‡∏ó‡∏µ‡πà, ‡πÉ‡∏ä‡πâ spacing ‡∏õ‡∏Å‡∏ï‡∏¥
Export bar full width
Advanced room displays

Context-Aware Responsive:

Different layouts based on selected year/semester
Historical data vs current data displays
Admin mode responsive behaviors
Export context-aware: ‡∏ã‡πà‡∏≠‡∏ô‡∏õ‡∏∏‡πà‡∏° Google Sheets ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö historical data (.is-historical .btn--gsheets { display:none })

‚ö†Ô∏è STRICT TOKEN LIMIT:

‡∏´‡∏¢‡∏∏‡∏î‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÉ‡∏Å‡∏•‡πâ 80% token limit
‡∏´‡∏¢‡∏∏‡∏î‡∏ó‡∏µ‡πà‡∏à‡∏∏‡∏î‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏° (‡∏à‡∏ö section)
‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô: "üîÑ [CONTINUE_NEEDED] - ‡∏û‡∏¥‡∏°‡∏û‡πå 'continue' ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ó‡∏≥‡∏ï‡πà‡∏≠‡∏™‡πà‡∏ß‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏´‡∏•‡∏∑‡∏≠"
‡∏ö‡∏≠‡∏Å‡∏ß‡πà‡∏≤‡∏´‡∏¢‡∏∏‡∏î‡∏ï‡∏£‡∏á‡πÑ‡∏´‡∏ô ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏à‡∏∞‡πÑ‡∏î‡πâ‡∏ó‡∏≥‡∏ï‡πà‡∏≠‡∏ñ‡∏π‡∏Å‡∏à‡∏∏‡∏î

‚ö†Ô∏è rule

‡∏ó‡∏≥‡∏ó‡∏µ‡∏•‡∏∞‡∏™‡πà‡∏ß‡∏ô‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô‡∏ô‡∏ô‡∏ô
‡∏ó‡∏≥‡∏ó‡∏µ‡∏•‡∏∞‡∏™‡πà‡∏ß‡∏ô ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏£‡∏±‡∏Å‡∏©‡∏≤ Token Limit
‡∏ó‡∏≥‡∏ï‡∏≤‡∏° Token Limit Rule



** ‡∏≠‡∏¢‡πà‡∏≤‡πÉ‡∏´‡πâ‡∏°‡∏±‡∏ô‡πÄ‡∏Å‡∏¥‡∏ô Token ‡πÇ‡∏ò‡πà‡πÄ‡∏ß‡πà‡∏¢‡∏¢
** ‡∏´‡πâ‡∏≤‡∏°‡∏ó‡∏≥‡∏ô‡∏≠‡∏Å‡πÄ‡∏´‡∏ô‡∏∑‡∏≠‡∏û‡∏£‡∏≠‡∏°‡∏û‡πå‡πÄ‡∏î‡πá‡∏î‡∏Ç‡∏≤‡∏î
** rate limit ‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏ó‡∏µ‡∏™‡∏∏‡∏î ‡∏ó‡∏≥‡∏ó‡∏µ‡∏•‡∏∞‡∏™‡πà‡∏ß‡∏ô‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô
Prompt 6: Enhanced API Configuration (js/api/config.js)
‡∏™‡∏£‡πâ‡∏≤‡∏á enhanced API configuration ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Multi-Year System ‡∏û‡∏£‡πâ‡∏≠‡∏° Rooms ‡πÅ‡∏•‡∏∞ Export constants:
Features:

Environment detection (development/production)
Multi-year table naming convention ‡∏£‡∏ß‡∏° rooms
Dynamic API endpoints based on academic year
Export MIME types ‡πÅ‡∏•‡∏∞ filename helpers

API Endpoints Structure:
Fixed Tables:

GET /academic-years
GET /semesters/:yearId
GET /periods (optional - ‡∏Ñ‡∏≤‡∏ö‡πÄ‡∏£‡∏µ‡∏¢‡∏ô)

Dynamic Tables (‡∏ï‡∏≤‡∏°‡∏õ‡∏µ):

GET/POST /teachers-:year
GET/POST /classes-:year
GET/POST /rooms-:year ‚Üê ‡πÉ‡∏´‡∏°‡πà
GET/POST /subjects-:year
GET/POST /schedules-:year
GET/POST /substitutions-:year

Helper Functions:

getTableName(baseTable, year) - "rooms_2567"
getYearBasedEndpoint(endpoint, year)
validateYearAccess(year)
getCurrentAcademicContext()
isYearSpecificTable(tableName)
getYearFromTableName(tableName)

Export Constants (‡πÉ‡∏´‡∏°‡πà):
javascriptexport const EXPORT_CONST = {
  MIME: {
    csv: 'text/csv',
    xlsx: 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet'
  },
  defaultFilename: (base, {year, semester}) =>
    `${base}_y${year}_s${semester ?? 'all'}_${new Date().toISOString().slice(0,10)}`
};
Error Handling:

apiError(message, code, detail) - ‡∏°‡∏≤‡∏ï‡∏£‡∏ê‡∏≤‡∏ô‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ô
Year validation
Table existence checking

‚ö†Ô∏è STRICT TOKEN LIMIT:

‡∏´‡∏¢‡∏∏‡∏î‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÉ‡∏Å‡∏•‡πâ 80% token limit
‡∏´‡∏¢‡∏∏‡∏î‡∏ó‡∏µ‡πà‡∏à‡∏∏‡∏î‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏° (‡∏à‡∏ö section)
‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô: "üîÑ [CONTINUE_NEEDED] - ‡∏û‡∏¥‡∏°‡∏û‡πå 'continue' ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ó‡∏≥‡∏ï‡πà‡∏≠‡∏™‡πà‡∏ß‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏´‡∏•‡∏∑‡∏≠"
‡∏ö‡∏≠‡∏Å‡∏ß‡πà‡∏≤‡∏´‡∏¢‡∏∏‡∏î‡∏ï‡∏£‡∏á‡πÑ‡∏´‡∏ô ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏à‡∏∞‡πÑ‡∏î‡πâ‡∏ó‡∏≥‡∏ï‡πà‡∏≠‡∏ñ‡∏π‡∏Å‡∏à‡∏∏‡∏î

‚ö†Ô∏è rule

‡∏ó‡∏≥‡∏ó‡∏µ‡∏•‡∏∞‡∏™‡πà‡∏ß‡∏ô‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô‡∏ô‡∏ô‡∏ô
‡∏ó‡∏≥‡∏ó‡∏µ‡∏•‡∏∞‡∏™‡πà‡∏ß‡∏ô ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏£‡∏±‡∏Å‡∏©‡∏≤ Token Limit
‡∏ó‡∏≥‡∏ï‡∏≤‡∏° Token Limit Rule



** ‡∏≠‡∏¢‡πà‡∏≤‡πÉ‡∏´‡πâ‡∏°‡∏±‡∏ô‡πÄ‡∏Å‡∏¥‡∏ô Token ‡πÇ‡∏ò‡πà‡πÄ‡∏ß‡πà‡∏¢‡∏¢
** ‡∏´‡πâ‡∏≤‡∏°‡∏ó‡∏≥‡∏ô‡∏≠‡∏Å‡πÄ‡∏´‡∏ô‡∏∑‡∏≠‡∏û‡∏£‡∏≠‡∏°‡∏û‡πå‡πÄ‡∏î‡πá‡∏î‡∏Ç‡∏≤‡∏î
** rate limit ‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏ó‡∏µ‡∏™‡∏∏‡∏î ‡∏ó‡∏≥‡∏ó‡∏µ‡∏•‡∏∞‡∏™‡πà‡∏ß‡∏ô‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô
Prompt 7: Academic Years & Semesters Mock Data
‡∏™‡∏£‡πâ‡∏≤‡∏á mock data ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Academic Years ‡πÅ‡∏•‡∏∞ Semesters:
1. js/data/academicYears.mock.js:
‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏õ‡∏µ‡∏Å‡∏≤‡∏£‡∏®‡∏∂‡∏Å‡∏©‡∏≤:

2566 (2023-2024) - ‡πÄ‡∏Å‡πà‡∏≤, ‡πÑ‡∏°‡πà active
2567 (2024-2025) - ‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô, active
2568 (2025-2026) - ‡∏≠‡∏ô‡∏≤‡∏Ñ‡∏ï, ‡πÑ‡∏°‡πà active yet

Field structure: id, year, start_date, end_date, is_active, created_at
2. js/data/semesters.mock.js:
‡∏†‡∏≤‡∏Ñ‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏õ‡∏µ:
‡∏õ‡∏µ 2567:

‡∏†‡∏≤‡∏Ñ‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏ó‡∏µ‡πà 1: ‡∏û.‡∏Ñ. 2024 - ‡∏Å.‡∏¢. 2024 (active)
‡∏†‡∏≤‡∏Ñ‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏ó‡∏µ‡πà 2: ‡∏ï.‡∏Ñ. 2024 - ‡∏Å.‡∏û. 2025
‡∏†‡∏≤‡∏Ñ‡∏§‡∏î‡∏π‡∏£‡πâ‡∏≠‡∏ô: ‡∏°‡∏µ.‡∏Ñ. 2025 - ‡πÄ‡∏°.‡∏¢. 2025

Field structure: id, academic_year_id, semester_number, semester_name, start_date, end_date, is_active, created_at
Export ‡πÄ‡∏õ‡πá‡∏ô ES6 modules ‡∏û‡∏£‡πâ‡∏≠‡∏° helper functions:

getCurrentAcademicYear()
getCurrentSemester()
getActiveSemester(yearId)
getSemestersByYear(yearId)
getYearByNumber(year)
listAvailableYears()

Integration Notes:

‡πÉ‡∏ä‡πâ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö validate context switching
Export filename generation
Room table name mapping

‚ö†Ô∏è STRICT TOKEN LIMIT:

‡∏´‡∏¢‡∏∏‡∏î‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÉ‡∏Å‡∏•‡πâ 80% token limit
‡∏´‡∏¢‡∏∏‡∏î‡∏ó‡∏µ‡πà‡∏à‡∏∏‡∏î‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏° (‡∏à‡∏ö section)
‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô: "üîÑ [CONTINUE_NEEDED] - ‡∏û‡∏¥‡∏°‡∏û‡πå 'continue' ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ó‡∏≥‡∏ï‡πà‡∏≠‡∏™‡πà‡∏ß‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏´‡∏•‡∏∑‡∏≠"
‡∏ö‡∏≠‡∏Å‡∏ß‡πà‡∏≤‡∏´‡∏¢‡∏∏‡∏î‡∏ï‡∏£‡∏á‡πÑ‡∏´‡∏ô ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏à‡∏∞‡πÑ‡∏î‡πâ‡∏ó‡∏≥‡∏ï‡πà‡∏≠‡∏ñ‡∏π‡∏Å‡∏à‡∏∏‡∏î

‚ö†Ô∏è rule

‡∏ó‡∏≥‡∏ó‡∏µ‡∏•‡∏∞‡∏™‡πà‡∏ß‡∏ô‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô‡∏ô‡∏ô‡∏ô
‡∏ó‡∏≥‡∏ó‡∏µ‡∏•‡∏∞‡∏™‡πà‡∏ß‡∏ô ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏£‡∏±‡∏Å‡∏©‡∏≤ Token Limit
‡∏ó‡∏≥‡∏ï‡∏≤‡∏° Token Limit Rule




** ‡∏≠‡∏¢‡πà‡∏≤‡πÉ‡∏´‡πâ‡∏°‡∏±‡∏ô‡πÄ‡∏Å‡∏¥‡∏ô Token ‡πÇ‡∏ò‡πà‡πÄ‡∏ß‡πà‡∏¢‡∏¢
** ‡∏´‡πâ‡∏≤‡∏°‡∏ó‡∏≥‡∏ô‡∏≠‡∏Å‡πÄ‡∏´‡∏ô‡∏∑‡∏≠‡∏û‡∏£‡∏≠‡∏°‡∏û‡πå‡πÄ‡∏î‡πá‡∏î‡∏Ç‡∏≤‡∏î
** rate limit ‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏ó‡∏µ‡∏™‡∏∏‡∏î ‡∏ó‡∏≥‡∏ó‡∏µ‡∏•‡∏∞‡∏™‡πà‡∏ß‡∏ô‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô
Prompt 8: Multi-Year Teachers Mock Data
‡∏™‡∏£‡πâ‡∏≤‡∏á mock data ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Ñ‡∏£‡∏π ‡πÅ‡∏ö‡∏ö Multi-Year:
js/data/teachers.mock.js:
‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Ñ‡∏£‡∏π‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏õ‡∏µ:

teachers_2566: ‡∏Ñ‡∏£‡∏π 12 ‡∏Ñ‡∏ô (historical data)
teachers_2567: ‡∏Ñ‡∏£‡∏π 10 ‡∏Ñ‡∏ô (current year)
teachers_2568: ‡∏Ñ‡∏£‡∏π 8 ‡∏Ñ‡∏ô (future planning)

‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏™‡∏≤‡∏£‡∏∞‡∏Ñ‡∏£‡∏≠‡∏ö‡∏Ñ‡∏•‡∏∏‡∏°:

‡∏ß‡∏¥‡∏ó‡∏¢‡∏≤‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå: 3-4 ‡∏Ñ‡∏ô
‡∏Ñ‡∏ì‡∏¥‡∏ï‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå: 2-3 ‡∏Ñ‡∏ô
‡∏†‡∏≤‡∏©‡∏≤‡πÑ‡∏ó‡∏¢: 2 ‡∏Ñ‡∏ô
‡∏†‡∏≤‡∏©‡∏≤‡∏≠‡∏±‡∏á‡∏Å‡∏§‡∏©: 1-2 ‡∏Ñ‡∏ô
‡∏™‡∏±‡∏á‡∏Ñ‡∏°‡∏®‡∏∂‡∏Å‡∏©‡∏≤: 1-2 ‡∏Ñ‡∏ô
‡∏®‡∏¥‡∏•‡∏õ‡∏∞/‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°: 1-2 ‡∏Ñ‡∏ô

Field structure: id, name, email, phone, subject_group, role, created_at
‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏ï‡∏Å‡∏ï‡πà‡∏≤‡∏á‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡∏õ‡∏µ:

‡∏ö‡∏≤‡∏á‡∏Ñ‡∏£‡∏π‡πÄ‡∏Å‡∏©‡∏µ‡∏¢‡∏ì/‡∏¢‡πâ‡∏≤‡∏¢
‡∏Ñ‡∏£‡∏π‡πÉ‡∏´‡∏°‡πà‡πÄ‡∏Ç‡πâ‡∏≤‡∏°‡∏≤
‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏™‡∏≤‡∏£‡∏∞
‡∏Å‡∏≤‡∏£‡∏û‡∏±‡∏í‡∏ô‡∏≤‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á

Export structure:
javascriptexport const teachersData = {
  teachers_2566: [...],
  teachers_2567: [...], 
  teachers_2568: [...]
};
Helper Functions:

getTeachersByYear(year)
findTeacherByName(name, year)
getTeacherSubjectGroup(teacher)
calculateTeacherEvolution(teacherId, years) - ‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á

Export Integration:

‡πÉ‡∏ä‡πâ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö export ‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏Ñ‡∏£‡∏π
Teacher schedule normalization
Workload analysis across years

‚ö†Ô∏è STRICT TOKEN LIMIT:

‡∏´‡∏¢‡∏∏‡∏î‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÉ‡∏Å‡∏•‡πâ 80% token limit
‡∏´‡∏¢‡∏∏‡∏î‡∏ó‡∏µ‡πà‡∏à‡∏∏‡∏î‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏° (‡∏à‡∏ö section)
‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô: "üîÑ [CONTINUE_NEEDED] - ‡∏û‡∏¥‡∏°‡∏û‡πå 'continue' ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ó‡∏≥‡∏ï‡πà‡∏≠‡∏™‡πà‡∏ß‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏´‡∏•‡∏∑‡∏≠"
‡∏ö‡∏≠‡∏Å‡∏ß‡πà‡∏≤‡∏´‡∏¢‡∏∏‡∏î‡∏ï‡∏£‡∏á‡πÑ‡∏´‡∏ô ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏à‡∏∞‡πÑ‡∏î‡πâ‡∏ó‡∏≥‡∏ï‡πà‡∏≠‡∏ñ‡∏π‡∏Å‡∏à‡∏∏‡∏î

‚ö†Ô∏è rule

‡∏ó‡∏≥‡∏ó‡∏µ‡∏•‡∏∞‡∏™‡πà‡∏ß‡∏ô‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô‡∏ô‡∏ô‡∏ô
‡∏ó‡∏≥‡∏ó‡∏µ‡∏•‡∏∞‡∏™‡πà‡∏ß‡∏ô ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏£‡∏±‡∏Å‡∏©‡∏≤ Token Limit
‡∏ó‡∏≥‡∏ï‡∏≤‡∏° Token Limit Rule




** ‡∏≠‡∏¢‡πà‡∏≤‡πÉ‡∏´‡πâ‡∏°‡∏±‡∏ô‡πÄ‡∏Å‡∏¥‡∏ô Token ‡πÇ‡∏ò‡πà‡πÄ‡∏ß‡πà‡∏¢‡∏¢
** ‡∏´‡πâ‡∏≤‡∏°‡∏ó‡∏≥‡∏ô‡∏≠‡∏Å‡πÄ‡∏´‡∏ô‡∏∑‡∏≠‡∏û‡∏£‡∏≠‡∏°‡∏û‡πå‡πÄ‡∏î‡πá‡∏î‡∏Ç‡∏≤‡∏î
** rate limit ‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏ó‡∏µ‡∏™‡∏∏‡∏î ‡∏ó‡∏≥‡∏ó‡∏µ‡∏•‡∏∞‡∏™‡πà‡∏ß‡∏ô‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô
Prompt 9: Enhanced Classes Mock Data
‡∏™‡∏£‡πâ‡∏≤‡∏á mock data ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏´‡πâ‡∏≠‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô (‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô - ‡πÅ‡∏¢‡∏Å‡∏à‡∏≤‡∏Å rooms):
js/data/classes.mock.js:
‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏´‡πâ‡∏≠‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏õ‡∏µ:
classes_2567 (‡∏õ‡∏µ‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô):

‡∏°.1: 4 ‡∏´‡πâ‡∏≠‡∏á (‡∏°.1/1, ‡∏°.1/2, ‡∏°.1/3, ‡∏°.1/4)
‡∏°.2: 4 ‡∏´‡πâ‡∏≠‡∏á
‡∏°.3: 3 ‡∏´‡πâ‡∏≠‡∏á
‡∏°.4: 3 ‡∏´‡πâ‡∏≠‡∏á
‡∏°.5: 3 ‡∏´‡πâ‡∏≠‡∏á
‡∏°.6: 2 ‡∏´‡πâ‡∏≠‡∏á

Field structure: id, semester_id, class_name, grade_level, section, student_count, created_at
Helper Functions:

getClassesByYear(year)
getClassesBySemester(semesterId)
getClassesByGradeLevel(gradeLevel, year)
generateClassName(gradeLevel, section)
parseClassName(className) - ‡πÅ‡∏¢‡∏Å "‡∏°.1/1" ‡πÄ‡∏õ‡πá‡∏ô {grade: "‡∏°.1", section: 1}

Export Structure:
javascriptexport const classesData = {
  classes_2566: [...],
  classes_2567: [...],
  classes_2568: [...]
};
Export Integration:

‡πÉ‡∏ä‡πâ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö student schedule export
Class selection dropdown
Schedule normalization with room mapping

Notes:

‡πÅ‡∏¢‡∏Å‡∏à‡∏≤‡∏Å rooms (‡∏Å‡∏≤‡∏¢‡∏†‡∏≤‡∏û) ‡∏ä‡∏±‡∏î‡πÄ‡∏à‡∏ô
classes = ‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô
rooms = ‡∏´‡πâ‡∏≠‡∏á‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡πÄ‡∏£‡∏µ‡∏¢‡∏ô
schedules ‡∏à‡∏∞‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏° class_id + room_id

‚ö†Ô∏è STRICT TOKEN LIMIT:

‡∏´‡∏¢‡∏∏‡∏î‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÉ‡∏Å‡∏•‡πâ 80% token limit
‡∏´‡∏¢‡∏∏‡∏î‡∏ó‡∏µ‡πà‡∏à‡∏∏‡∏î‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏° (‡∏à‡∏ö section)
‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô: "üîÑ [CONTINUE_NEEDED] - ‡∏û‡∏¥‡∏°‡∏û‡πå 'continue' ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ó‡∏≥‡∏ï‡πà‡∏≠‡∏™‡πà‡∏ß‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏´‡∏•‡∏∑‡∏≠"
‡∏ö‡∏≠‡∏Å‡∏ß‡πà‡∏≤‡∏´‡∏¢‡∏∏‡∏î‡∏ï‡∏£‡∏á‡πÑ‡∏´‡∏ô ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏à‡∏∞‡πÑ‡∏î‡πâ‡∏ó‡∏≥‡∏ï‡πà‡∏≠‡∏ñ‡∏π‡∏Å‡∏à‡∏∏‡∏î

‚ö†Ô∏è rule

‡∏ó‡∏≥‡∏ó‡∏µ‡∏•‡∏∞‡∏™‡πà‡∏ß‡∏ô‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô‡∏ô‡∏ô‡∏ô
‡∏ó‡∏≥‡∏ó‡∏µ‡∏•‡∏∞‡∏™‡πà‡∏ß‡∏ô ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏£‡∏±‡∏Å‡∏©‡∏≤ Token Limit
‡∏ó‡∏≥‡∏ï‡∏≤‡∏° Token Limit Rule




** ‡∏≠‡∏¢‡πà‡∏≤‡πÉ‡∏´‡πâ‡∏°‡∏±‡∏ô‡πÄ‡∏Å‡∏¥‡∏ô Token ‡πÇ‡∏ò‡πà‡πÄ‡∏ß‡πà‡∏¢‡∏¢
** ‡∏´‡πâ‡∏≤‡∏°‡∏ó‡∏≥‡∏ô‡∏≠‡∏Å‡πÄ‡∏´‡∏ô‡∏∑‡∏≠‡∏û‡∏£‡∏≠‡∏°‡∏û‡πå‡πÄ‡∏î‡πá‡∏î‡∏Ç‡∏≤‡∏î
** rate limit ‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏ó‡∏µ‡∏™‡∏∏‡∏î ‡∏ó‡∏≥‡∏ó‡∏µ‡∏•‡∏∞‡∏™‡πà‡∏ß‡∏ô‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô
Prompt 10: Enhanced Rooms Mock Data (‡πÉ‡∏´‡∏°‡πà)
‡∏™‡∏£‡πâ‡∏≤‡∏á mock data ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏´‡πâ‡∏≠‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô (‡∏Å‡∏≤‡∏¢‡∏†‡∏≤‡∏û) ‡πÅ‡∏ö‡∏ö Multi-Year:
js/data/rooms.mock.js:
‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏´‡πâ‡∏≠‡∏á‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏õ‡∏µ:
rooms_2567 (‡∏õ‡∏µ‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô):
‡∏´‡πâ‡∏≠‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ (CLASS):

‡∏´‡πâ‡∏≠‡∏á 101, 102, 103, 104 (‡∏ä‡∏±‡πâ‡∏ô 1)
‡∏´‡πâ‡∏≠‡∏á 201, 202, 203, 204 (‡∏ä‡∏±‡πâ‡∏ô 2)
‡∏´‡πâ‡∏≠‡∏á 301, 302, 303 (‡∏ä‡∏±‡πâ‡∏ô 3)

‡∏´‡πâ‡∏≠‡∏á‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ (TECH):

‡∏´‡πâ‡∏≠‡∏á‡∏Ñ‡∏≠‡∏°‡∏û‡∏¥‡∏ß‡πÄ‡∏ï‡∏≠‡∏£‡πå 1, 2
‡∏´‡πâ‡∏≠‡∏á‡∏ß‡∏¥‡∏ó‡∏¢‡∏≤‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå 1, 2
‡∏´‡πâ‡∏≠‡∏á‡∏õ‡∏è‡∏¥‡∏ö‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡πÄ‡∏Ñ‡∏°‡∏µ
‡∏´‡πâ‡∏≠‡∏á‡∏õ‡∏è‡∏¥‡∏ö‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡∏ü‡∏¥‡∏™‡∏¥‡∏Å‡∏™‡πå

Field structure: id, name, room_type ('CLASS'|'TECH'), capacity, location, available, created_at
Room Types:

'CLASS': ‡∏´‡πâ‡∏≠‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ (‡∏™‡∏µ‡∏ô‡πâ‡∏≥‡πÄ‡∏á‡∏¥‡∏ô #3182ce)
'TECH': ‡∏´‡πâ‡∏≠‡∏á‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ/‡∏õ‡∏è‡∏¥‡∏ö‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£ (‡∏™‡∏µ‡∏°‡πà‡∏ß‡∏á #805ad5)

Helper Functions:

getRoomsByYear(year)
getRoomsByType(roomType, year)
findAvailableRooms(day, period, roomType, year)
validateRoomConflict(newSchedule, existingSchedules, year)
getRoomDisplayName(room) - ‡∏£‡∏ß‡∏° type badge

Export Structure:
javascriptexport const roomsData = {
  rooms_2566: [...],
  rooms_2567: [...],
  rooms_2568: [...]
};
Export Integration:

‡πÉ‡∏ä‡πâ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö schedule export (‡πÅ‡∏™‡∏î‡∏á‡∏ä‡∏∑‡πà‡∏≠‡∏´‡πâ‡∏≠‡∏á + type)
Room conflict detection
Schedule normalization
Admin room management

Integration with Subjects:

subjects ‡∏à‡∏∞‡∏°‡∏µ subject_constraints: { requires_room_type: 'TECH' }
schedules ‡∏à‡∏∞‡πÄ‡∏•‡∏∑‡∏≠‡∏Å room_id ‡∏ï‡∏≤‡∏° constraint

‚ö†Ô∏è STRICT TOKEN LIMIT:

‡∏´‡∏¢‡∏∏‡∏î‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÉ‡∏Å‡∏•‡πâ 80% token limit
‡∏´‡∏¢‡∏∏‡∏î‡∏ó‡∏µ‡πà‡∏à‡∏∏‡∏î‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏° (‡∏à‡∏ö section)
‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô: "üîÑ [CONTINUE_NEEDED] - ‡∏û‡∏¥‡∏°‡∏û‡πå 'continue' ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ó‡∏≥‡∏ï‡πà‡∏≠‡∏™‡πà‡∏ß‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏´‡∏•‡∏∑‡∏≠"
‡∏ö‡∏≠‡∏Å‡∏ß‡πà‡∏≤‡∏´‡∏¢‡∏∏‡∏î‡∏ï‡∏£‡∏á‡πÑ‡∏´‡∏ô ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏à‡∏∞‡πÑ‡∏î‡πâ‡∏ó‡∏≥‡∏ï‡πà‡∏≠‡∏ñ‡∏π‡∏Å‡∏à‡∏∏‡∏î

‚ö†Ô∏è rule

‡∏ó‡∏≥‡∏ó‡∏µ‡∏•‡∏∞‡∏™‡πà‡∏ß‡∏ô‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô‡∏ô‡∏ô‡∏ô
‡∏ó‡∏≥‡∏ó‡∏µ‡∏•‡∏∞‡∏™‡πà‡∏ß‡∏ô ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏£‡∏±‡∏Å‡∏©‡∏≤ Token Limit
‡∏ó‡∏≥‡∏ï‡∏≤‡∏° Token Limit Rule


‡∏ô‡∏µ‡πà‡∏Ñ‡∏∑‡∏≠ Prompts 11-15 ‡∏ó‡∏µ‡πà‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á‡πÅ‡∏•‡πâ‡∏ß:



** ‡∏≠‡∏¢‡πà‡∏≤‡πÉ‡∏´‡πâ‡∏°‡∏±‡∏ô‡πÄ‡∏Å‡∏¥‡∏ô Token ‡πÇ‡∏ò‡πà‡πÄ‡∏ß‡πà‡∏¢‡∏¢
** ‡∏´‡πâ‡∏≤‡∏°‡∏ó‡∏≥‡∏ô‡∏≠‡∏Å‡πÄ‡∏´‡∏ô‡∏∑‡∏≠‡∏û‡∏£‡∏≠‡∏°‡∏û‡πå‡πÄ‡∏î‡πá‡∏î‡∏Ç‡∏≤‡∏î
** rate limit ‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏ó‡∏µ‡∏™‡∏∏‡∏î ‡∏ó‡∏≥‡∏ó‡∏µ‡∏•‡∏∞‡∏™‡πà‡∏ß‡∏ô‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô
Prompt 11: Enhanced Subjects Mock Data
‡∏™‡∏£‡πâ‡∏≤‡∏á mock data ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ß‡∏¥‡∏ä‡∏≤ (‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏Å‡∏±‡∏ö teachers, classes, rooms) ‡∏û‡∏£‡πâ‡∏≠‡∏° subject_constraints:
js/data/subjects.mock.js:
‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ß‡∏¥‡∏ä‡∏≤‡∏ó‡∏µ‡πà‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡πÇ‡∏¢‡∏á‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á teachers, classes, semesters, ‡πÅ‡∏•‡∏∞ rooms:
subjects_2567 (‡∏õ‡∏µ‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô):
‡∏°.1-‡∏°.3: ‡∏ß‡∏¥‡∏ó‡∏¢‡∏≤‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå, ‡∏Ñ‡∏ì‡∏¥‡∏ï‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå, ‡∏†‡∏≤‡∏©‡∏≤‡πÑ‡∏ó‡∏¢, ‡∏†‡∏≤‡∏©‡∏≤‡∏≠‡∏±‡∏á‡∏Å‡∏§‡∏©, ‡∏™‡∏±‡∏á‡∏Ñ‡∏°‡∏®‡∏∂‡∏Å‡∏©‡∏≤, ‡∏®‡∏¥‡∏•‡∏õ‡∏∞, ‡∏•‡∏π‡∏Å‡πÄ‡∏™‡∏∑‡∏≠
‡∏°.4-‡∏°.6: ‡∏ü‡∏¥‡∏™‡∏¥‡∏Å‡∏™‡πå, ‡πÄ‡∏Ñ‡∏°‡∏µ, ‡∏ä‡∏µ‡∏ß‡∏ß‡∏¥‡∏ó‡∏¢‡∏≤, ‡∏Ñ‡∏ì‡∏¥‡∏ï‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå (‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô + ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°), ‡∏†‡∏≤‡∏©‡∏≤‡πÑ‡∏ó‡∏¢, ‡∏†‡∏≤‡∏©‡∏≤‡∏≠‡∏±‡∏á‡∏Å‡∏§‡∏©, ‡∏™‡∏±‡∏á‡∏Ñ‡∏°‡∏®‡∏∂‡∏Å‡∏©‡∏≤
Field structure: id, semester_id, teacher_id, class_id, subject_name, subject_code, periods_per_week, subject_constraints (JSON), default_room_id (optional), created_at
Subject Constraints Examples:
javascript// ‡∏ß‡∏¥‡∏ó‡∏¢‡∏≤‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå ‡∏°.1 - ‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏ä‡πâ‡∏´‡πâ‡∏≠‡∏á‡∏õ‡∏è‡∏¥‡∏ö‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£
subject_constraints: { requires_room_type: 'TECH' }

// ‡∏Ñ‡∏ì‡∏¥‡∏ï‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå - ‡πÉ‡∏ä‡πâ‡∏´‡πâ‡∏≠‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ
subject_constraints: { requires_room_type: 'CLASS' }

// ‡πÄ‡∏Ñ‡∏°‡∏µ ‡∏°.5 - ‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏ä‡πâ‡∏´‡πâ‡∏≠‡∏á‡πÄ‡∏Ñ‡∏°‡∏µ‡πÄ‡∏â‡∏û‡∏≤‡∏∞ + ‡∏°‡∏µ default room
subject_constraints: { requires_room_type: 'TECH', preferred_rooms: ['‡∏´‡πâ‡∏≠‡∏á‡∏õ‡∏è‡∏¥‡∏ö‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡πÄ‡∏Ñ‡∏°‡∏µ'] }
‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ã‡∏±‡∏ö‡∏ã‡πâ‡∏≠‡∏ô‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£:

‡∏Ñ‡∏£‡∏π 1 ‡∏Ñ‡∏ô‡∏™‡∏≠‡∏ô‡∏´‡∏•‡∏≤‡∏¢‡∏´‡πâ‡∏≠‡∏á
‡∏´‡πâ‡∏≠‡∏á 1 ‡∏´‡πâ‡∏≠‡∏á‡∏°‡∏µ‡∏´‡∏•‡∏≤‡∏¢‡∏ß‡∏¥‡∏ä‡∏≤
‡∏ß‡∏¥‡∏ä‡∏≤‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ô‡πÅ‡∏ï‡πà‡∏Ñ‡∏£‡∏π‡∏ï‡πà‡∏≤‡∏á‡∏Å‡∏±‡∏ô
‡∏ß‡∏¥‡∏ä‡∏≤‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏ä‡πâ‡∏´‡πâ‡∏≠‡∏á‡πÄ‡∏â‡∏û‡∏≤‡∏∞

Helper Functions:

getSubjectsByYear(year)
getSubjectsByTeacher(teacherId, year)
getSubjectsByClass(classId, year)
getSubjectsByRoomType(roomType, year)
calculateTeacherWorkload(teacherId, semesterId)
validateSubjectRoomConstraints(subject, room)

Export Structure:
javascriptexport const subjectsData = {
  subjects_2566: [...],
  subjects_2567: [...],
  subjects_2568: [...]
};
‚ö†Ô∏è STRICT TOKEN LIMIT:

‡∏´‡∏¢‡∏∏‡∏î‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÉ‡∏Å‡∏•‡πâ 80% token limit
‡∏´‡∏¢‡∏∏‡∏î‡∏ó‡∏µ‡πà‡∏à‡∏∏‡∏î‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏° (‡∏à‡∏ö section)
‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô: "üîÑ [CONTINUE_NEEDED] - ‡∏û‡∏¥‡∏°‡∏û‡πå 'continue' ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ó‡∏≥‡∏ï‡πà‡∏≠‡∏™‡πà‡∏ß‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏´‡∏•‡∏∑‡∏≠"
‡∏ö‡∏≠‡∏Å‡∏ß‡πà‡∏≤‡∏´‡∏¢‡∏∏‡∏î‡∏ï‡∏£‡∏á‡πÑ‡∏´‡∏ô ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏à‡∏∞‡πÑ‡∏î‡πâ‡∏ó‡∏≥‡∏ï‡πà‡∏≠‡∏ñ‡∏π‡∏Å‡∏à‡∏∏‡∏î

‚ö†Ô∏è rule

‡∏ó‡∏≥‡∏ó‡∏µ‡∏•‡∏∞‡∏™‡πà‡∏ß‡∏ô‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô‡∏ô‡∏ô‡∏ô
‡∏ó‡∏≥‡∏ó‡∏µ‡∏•‡∏∞‡∏™‡πà‡∏ß‡∏ô ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏£‡∏±‡∏Å‡∏©‡∏≤ Token Limit
‡∏ó‡∏≥‡∏ï‡∏≤‡∏° Token Limit Rule




** ‡∏≠‡∏¢‡πà‡∏≤‡πÉ‡∏´‡πâ‡∏°‡∏±‡∏ô‡πÄ‡∏Å‡∏¥‡∏ô Token ‡πÇ‡∏ò‡πà‡πÄ‡∏ß‡πà‡∏¢‡∏¢
** ‡∏´‡πâ‡∏≤‡∏°‡∏ó‡∏≥‡∏ô‡∏≠‡∏Å‡πÄ‡∏´‡∏ô‡∏∑‡∏≠‡∏û‡∏£‡∏≠‡∏°‡∏û‡πå‡πÄ‡∏î‡πá‡∏î‡∏Ç‡∏≤‡∏î
** rate limit ‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏ó‡∏µ‡∏™‡∏∏‡∏î ‡∏ó‡∏≥‡∏ó‡∏µ‡∏•‡∏∞‡∏™‡πà‡∏ß‡∏ô‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô
Prompt 12: Enhanced Schedules Mock Data
‡∏™‡∏£‡πâ‡∏≤‡∏á mock data ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏™‡∏≠‡∏ô (‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏Å‡∏±‡∏ö subjects, classes, rooms) ‡∏û‡∏£‡πâ‡∏≠‡∏° conflict detection:
js/data/schedules.mock.js:
‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏™‡∏≠‡∏ô‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏õ‡∏µ ‡πÇ‡∏î‡∏¢‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏Å‡∏±‡∏ö subjects ‡πÅ‡∏•‡∏∞‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö room constraints:
schedules_2567 (‡∏õ‡∏µ‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô):
‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏™‡∏≠‡∏ô‡∏à‡∏±‡∏ô‡∏ó‡∏£‡πå-‡∏®‡∏∏‡∏Å‡∏£‡πå:

day_of_week: 1=‡∏à‡∏±‡∏ô‡∏ó‡∏£‡πå, 2=‡∏≠‡∏±‡∏á‡∏Ñ‡∏≤‡∏£, 3=‡∏û‡∏∏‡∏ò, 4=‡∏û‡∏§‡∏´‡∏±‡∏™‡∏ö‡∏î‡∏µ, 5=‡∏®‡∏∏‡∏Å‡∏£‡πå
period: 1-8 ‡∏Ñ‡∏≤‡∏ö
‡πÄ‡∏ß‡∏•‡∏≤‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏Ñ‡∏≤‡∏ö: 08:20-09:10, 09:10-10:00, 10:00-10:50, 10:50-11:40, 13:00-13:50, 13:50-14:40, 14:40-15:30, 15:30-16:20

Field structure: id, semester_id, subject_id, class_id, day_of_week, period, room_id, created_at
Logic ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ï‡∏≤‡∏£‡∏≤‡∏á:

‡πÉ‡∏ä‡πâ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≤‡∏Å subjects_2567 ‡πÄ‡∏õ‡πá‡∏ô‡∏ê‡∏≤‡∏ô
‡∏Å‡∏£‡∏∞‡∏à‡∏≤‡∏¢ periods_per_week ‡∏Ç‡∏≠‡∏á‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏ß‡∏¥‡∏ä‡∏≤
‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö subject_constraints.requires_room_type
‡πÄ‡∏•‡∏∑‡∏≠‡∏Å room_id ‡∏ó‡∏µ‡πà‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏°
‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö conflicts ‡∏Ñ‡∏£‡∏ö 3 ‡∏°‡∏¥‡∏ï‡∏¥:

Teacher conflict (‡∏à‡∏≤‡∏Å subject_id ‚Üí teacher_id)
Class conflict (class_id + time)
Room conflict (room_id + time)


‡∏ß‡∏¥‡∏ä‡∏≤‡∏´‡∏•‡∏±‡∏Å‡∏Ñ‡∏ß‡∏£‡∏≠‡∏¢‡∏π‡πà‡∏Ñ‡∏≤‡∏ö 1-6

Conflict Detection Logic:
javascriptfunction validateScheduleConflict(newSchedule, existing, { subjects, rooms }) {
  // Check teacher conflict
  const subject = subjects.find(s => s.id === newSchedule.subject_id);
  const teacherConflict = existing.find(e => {
    const eSubject = subjects.find(s => s.id === e.subject_id);
    return eSubject.teacher_id === subject.teacher_id &&
           e.day_of_week === newSchedule.day_of_week &&
           e.period === newSchedule.period;
  });
  
  // Check class conflict
  const classConflict = existing.find(e => 
    e.class_id === newSchedule.class_id &&
    e.day_of_week === newSchedule.day_of_week &&
    e.period === newSchedule.period
  );
  
  // Check room conflict
  const roomConflict = existing.find(e => 
    e.room_id === newSchedule.room_id &&
    e.day_of_week === newSchedule.day_of_week &&
    e.period === newSchedule.period
  );
  
  return { ok: !teacherConflict && !classConflict && !roomConflict };
}
Helper Functions:

getSchedulesByYear(year)
getSchedulesBySemester(semesterId)
getSchedulesByClass(classId, semesterId)
validateScheduleConflict(newSchedule, existingSchedules, context)
normalizeScheduleRowForExport(scheduleData)

‚ö†Ô∏è STRICT TOKEN LIMIT:

‡∏´‡∏¢‡∏∏‡∏î‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÉ‡∏Å‡∏•‡πâ 80% token limit
‡∏´‡∏¢‡∏∏‡∏î‡∏ó‡∏µ‡πà‡∏à‡∏∏‡∏î‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏° (‡∏à‡∏ö section)
‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô: "üîÑ [CONTINUE_NEEDED] - ‡∏û‡∏¥‡∏°‡∏û‡πå 'continue' ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ó‡∏≥‡∏ï‡πà‡∏≠‡∏™‡πà‡∏ß‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏´‡∏•‡∏∑‡∏≠"
‡∏ö‡∏≠‡∏Å‡∏ß‡πà‡∏≤‡∏´‡∏¢‡∏∏‡∏î‡∏ï‡∏£‡∏á‡πÑ‡∏´‡∏ô ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏à‡∏∞‡πÑ‡∏î‡πâ‡∏ó‡∏≥‡∏ï‡πà‡∏≠‡∏ñ‡∏π‡∏Å‡∏à‡∏∏‡∏î

‚ö†Ô∏è rule

‡∏ó‡∏≥‡∏ó‡∏µ‡∏•‡∏∞‡∏™‡πà‡∏ß‡∏ô‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô‡∏ô‡∏ô‡∏ô
‡∏ó‡∏≥‡∏ó‡∏µ‡∏•‡∏∞‡∏™‡πà‡∏ß‡∏ô ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏£‡∏±‡∏Å‡∏©‡∏≤ Token Limit
‡∏ó‡∏≥‡∏ï‡∏≤‡∏° Token Limit Rule




** ‡∏≠‡∏¢‡πà‡∏≤‡πÉ‡∏´‡πâ‡∏°‡∏±‡∏ô‡πÄ‡∏Å‡∏¥‡∏ô Token ‡πÇ‡∏ò‡πà‡πÄ‡∏ß‡πà‡∏¢‡∏¢
** ‡∏´‡πâ‡∏≤‡∏°‡∏ó‡∏≥‡∏ô‡∏≠‡∏Å‡πÄ‡∏´‡∏ô‡∏∑‡∏≠‡∏û‡∏£‡∏≠‡∏°‡∏û‡πå‡πÄ‡∏î‡πá‡∏î‡∏Ç‡∏≤‡∏î
** rate limit ‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏ó‡∏µ‡∏™‡∏∏‡∏î ‡∏ó‡∏≥‡∏ó‡∏µ‡∏•‡∏∞‡∏™‡πà‡∏ß‡∏ô‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô
Prompt 13: Enhanced Substitutions Mock Data
‡∏™‡∏£‡πâ‡∏≤‡∏á mock data ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏™‡∏≠‡∏ô‡πÅ‡∏ó‡∏ô ‡πÅ‡∏ö‡∏ö Multi-Year ‡∏û‡∏£‡πâ‡∏≠‡∏° room information:
js/data/substitutions.mock.js:
‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡∏≤‡∏£‡∏™‡∏≠‡∏ô‡πÅ‡∏ó‡∏ô‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏õ‡∏µ:
substitutions_2567 + substitution_schedules_2567:
1. substitutions_2567:
Field structure: id, semester_id, absent_teacher_id, absent_date, reason, status, created_by, created_at
‡∏Å‡∏≤‡∏£‡∏•‡∏≤‡πÉ‡∏ô‡∏†‡∏≤‡∏Ñ‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô:

‡∏•‡∏≤‡∏õ‡πà‡∏ß‡∏¢: 40%, ‡∏õ‡∏£‡∏∞‡∏ä‡∏∏‡∏°: 25%, ‡∏≠‡∏ö‡∏£‡∏°: 20%, ‡∏•‡∏≤‡∏û‡∏±‡∏Å‡∏ú‡πà‡∏≠‡∏ô: 10%, ‡πÑ‡∏õ‡∏£‡∏≤‡∏ä‡∏Å‡∏≤‡∏£: 5%

2. substitution_schedules_2567:
Field structure: id, substitution_id, original_schedule_id, substitute_teacher_id, periods_count, completed_at
‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Hall of Fame (‡∏†‡∏≤‡∏Ñ‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô):

‡∏ô‡∏≤‡∏¢‡∏ä‡∏µ‡∏ß‡∏ß‡∏¥‡∏ó‡∏¢‡∏≤: 25 ‡∏Ñ‡∏≤‡∏ö
‡∏ô‡∏≤‡∏á‡πÄ‡∏Ñ‡∏°‡∏µ: 18 ‡∏Ñ‡∏≤‡∏ö
‡∏ô‡∏≤‡∏¢‡∏Ñ‡∏ì‡∏¥‡∏ï B: 15 ‡∏Ñ‡∏≤‡∏ö
‡∏ô‡∏≤‡∏¢‡∏†‡∏≤‡∏©‡∏≤‡πÑ‡∏ó‡∏¢: 12 ‡∏Ñ‡∏≤‡∏ö
‡∏ô‡∏≤‡∏á‡∏™‡∏±‡∏á‡∏Ñ‡∏°: 8 ‡∏Ñ‡∏≤‡∏ö

Room Integration:

substitution export ‡∏£‡∏ß‡∏° room information
original_schedule_id ‚Üí room_id mapping
room conflict checking for substitute assignments

Helper Functions:

getSubstitutionsByYear(year)
getSubstitutionsBySemester(semesterId)
calculateSubstituteStats(semesterId)
getTopSubstituteTeachers(semesterId, limit)
normalizeSubstitutionRowForExport(substitutionData, includeRoom = true)

Export Integration:
javascriptfunction normalizeSubstitutionRowForExport({ substitution, assignment, teacher, originalSchedule, room }) {
  return {
    date: substitution.absent_date,
    absent_teacher: substitution.absent_teacher_name,
    reason: substitution.reason,
    period: originalSchedule.period,
    subject: originalSchedule.subject_name,
    class: originalSchedule.class_name,
    room: room ? `${room.name} (${room.room_type})` : '',
    substitute_teacher: teacher.name
  };
}
Export structure:
javascriptexport const substitutionsData = {
  substitutions_2566: [...],
  substitutions_2567: [...],
  substitutions_2568: [...],
  substitution_schedules_2566: [...],
  substitution_schedules_2567: [...],
  substitution_schedules_2568: [...]
};
‚ö†Ô∏è STRICT TOKEN LIMIT:

‡∏´‡∏¢‡∏∏‡∏î‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÉ‡∏Å‡∏•‡πâ 80% token limit
‡∏´‡∏¢‡∏∏‡∏î‡∏ó‡∏µ‡πà‡∏à‡∏∏‡∏î‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏° (‡∏à‡∏ö section)
‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô: "üîÑ [CONTINUE_NEEDED] - ‡∏û‡∏¥‡∏°‡∏û‡πå 'continue' ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ó‡∏≥‡∏ï‡πà‡∏≠‡∏™‡πà‡∏ß‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏´‡∏•‡∏∑‡∏≠"
‡∏ö‡∏≠‡∏Å‡∏ß‡πà‡∏≤‡∏´‡∏¢‡∏∏‡∏î‡∏ï‡∏£‡∏á‡πÑ‡∏´‡∏ô ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏à‡∏∞‡πÑ‡∏î‡πâ‡∏ó‡∏≥‡∏ï‡πà‡∏≠‡∏ñ‡∏π‡∏Å‡∏à‡∏∏‡∏î

‚ö†Ô∏è rule

‡∏ó‡∏≥‡∏ó‡∏µ‡∏•‡∏∞‡∏™‡πà‡∏ß‡∏ô‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô‡∏ô‡∏ô‡∏ô
‡∏ó‡∏≥‡∏ó‡∏µ‡∏•‡∏∞‡∏™‡πà‡∏ß‡∏ô ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏£‡∏±‡∏Å‡∏©‡∏≤ Token Limit
‡∏ó‡∏≥‡∏ï‡∏≤‡∏° Token Limit Rule




** ‡∏≠‡∏¢‡πà‡∏≤‡πÉ‡∏´‡πâ‡∏°‡∏±‡∏ô‡πÄ‡∏Å‡∏¥‡∏ô Token ‡πÇ‡∏ò‡πà‡πÄ‡∏ß‡πà‡∏¢‡∏¢
** ‡∏´‡πâ‡∏≤‡∏°‡∏ó‡∏≥‡∏ô‡∏≠‡∏Å‡πÄ‡∏´‡∏ô‡∏∑‡∏≠‡∏û‡∏£‡∏≠‡∏°‡∏û‡πå‡πÄ‡∏î‡πá‡∏î‡∏Ç‡∏≤‡∏î
** rate limit ‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏ó‡∏µ‡∏™‡∏∏‡∏î ‡∏ó‡∏≥‡∏ó‡∏µ‡∏•‡∏∞‡∏™‡πà‡∏ß‡∏ô‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô
Prompt 14: Enhanced Data Index
‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå‡∏£‡∏ß‡∏° mock data ‡πÅ‡∏ö‡∏ö Multi-Year ‡∏û‡∏£‡πâ‡∏≠‡∏° Rooms ‡πÅ‡∏•‡∏∞ Export utilities:
js/data/index.js:
Features:

Import ‡∏ó‡∏∏‡∏Å‡πÑ‡∏ü‡∏•‡πå mock data ‡∏£‡∏ß‡∏° rooms
Export combined data object ‡πÅ‡∏¢‡∏Å‡∏ï‡∏≤‡∏°‡∏õ‡∏µ
Multi-year utility functions
Cross-year data analysis functions
Export preparation functions

Main Export Structure:
javascriptexport const mockData = {
  // Fixed tables
  academicYears: [...],
  semesters: [...],
  
  // Dynamic tables by year
  2566: {
    teachers: teachersData.teachers_2566,
    classes: classesData.classes_2566,
    rooms: roomsData.rooms_2566,
    subjects: subjectsData.subjects_2566,
    schedules: schedulesData.schedules_2566,
    substitutions: substitutionsData.substitutions_2566,
    substitution_schedules: substitutionsData.substitution_schedules_2566
  },
  2567: { ... },
  2568: { ... }
};
Multi-Year Functions:

getDataByYear(year)
getDataBySemester(semesterId)
getCurrentYearData()
validateCrossYearData() - ‡∏ï‡∏£‡∏ß‡∏à FK relationships ‡∏£‡∏ß‡∏° rooms

Context Management:
javascriptlet __CONTEXT__ = { year: null, semesterId: null };
export function setGlobalContext(year, semesterId);
export function getGlobalContext();
export function switchContext(newYear, newSemesterId);
Export Preparation Functions:

prepareStudentScheduleExport(classId, semesterId)
prepareTeacherScheduleExport(teacherId, semesterId)
prepareSubstitutionExport(date, semesterId)
normalizeDataForExport(data, type)

Room Integration Functions:

getRoomsForYear(year)
validateRoomAvailability(roomId, day, period, year)
getRoomDisplayInfo(roomId, year) - ‡∏£‡∏ß‡∏° name + type badge

‚ö†Ô∏è STRICT TOKEN LIMIT:

‡∏´‡∏¢‡∏∏‡∏î‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÉ‡∏Å‡∏•‡πâ 80% token limit
‡∏´‡∏¢‡∏∏‡∏î‡∏ó‡∏µ‡πà‡∏à‡∏∏‡∏î‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏° (‡∏à‡∏ö section)
‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô: "üîÑ [CONTINUE_NEEDED] - ‡∏û‡∏¥‡∏°‡∏û‡πå 'continue' ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ó‡∏≥‡∏ï‡πà‡∏≠‡∏™‡πà‡∏ß‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏´‡∏•‡∏∑‡∏≠"
‡∏ö‡∏≠‡∏Å‡∏ß‡πà‡∏≤‡∏´‡∏¢‡∏∏‡∏î‡∏ï‡∏£‡∏á‡πÑ‡∏´‡∏ô ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏à‡∏∞‡πÑ‡∏î‡πâ‡∏ó‡∏≥‡∏ï‡πà‡∏≠‡∏ñ‡∏π‡∏Å‡∏à‡∏∏‡∏î

‚ö†Ô∏è rule

‡∏ó‡∏≥‡∏ó‡∏µ‡∏•‡∏∞‡∏™‡πà‡∏ß‡∏ô‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô‡∏ô‡∏ô‡∏ô
‡∏ó‡∏≥‡∏ó‡∏µ‡∏•‡∏∞‡∏™‡πà‡∏ß‡∏ô ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏£‡∏±‡∏Å‡∏©‡∏≤ Token Limit
‡∏ó‡∏≥‡∏ï‡∏≤‡∏° Token Limit Rule




** ‡∏≠‡∏¢‡πà‡∏≤‡πÉ‡∏´‡πâ‡∏°‡∏±‡∏ô‡πÄ‡∏Å‡∏¥‡∏ô Token ‡πÇ‡∏ò‡πà‡πÄ‡∏ß‡πà‡∏¢‡∏¢
** ‡∏´‡πâ‡∏≤‡∏°‡∏ó‡∏≥‡∏ô‡∏≠‡∏Å‡πÄ‡∏´‡∏ô‡∏∑‡∏≠‡∏û‡∏£‡∏≠‡∏°‡∏û‡πå‡πÄ‡∏î‡πá‡∏î‡∏Ç‡∏≤‡∏î
** rate limit ‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏ó‡∏µ‡∏™‡∏∏‡∏î ‡∏ó‡∏≥‡∏ó‡∏µ‡∏•‡∏∞‡∏™‡πà‡∏ß‡∏ô‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô
Prompt 15: Export Utilities (js/utils/export.js)
‡∏™‡∏£‡πâ‡∏≤‡∏á export utilities ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö CSV/XLSX/Google Sheets:
js/utils/export.js:
Core Export Functions:
javascriptexport function exportTableToCSV(tableData, filename);
export function exportTableToXLSX(tableData, filename); // ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö SheetJS
export function exportTableToGoogleSheets(tableData, filename); // ‡πÇ‡∏´‡∏°‡∏î‡πÄ‡∏ö‡∏≤
CSV Export (UTF-8 + BOM):

‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏†‡∏≤‡∏©‡∏≤‡πÑ‡∏ó‡∏¢‡πÄ‡∏ï‡πá‡∏°‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö
Auto-download ‡πÑ‡∏ü‡∏•‡πå
Proper escaping ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Excel

XLSX Export (SheetJS):

Column types ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á (text, number, date)
Thai-friendly encoding
Professional formatting

Google Sheets Export:

‡∏™‡∏£‡πâ‡∏≤‡∏á CSV formatted data
‡πÄ‡∏õ‡∏¥‡∏î‡∏•‡∏¥‡∏á‡∏Å‡πå upload/import ‡πÑ‡∏õ Google Sheets
‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏Å‡∏≤‡∏£ import

Helper Functions:
javascriptexport function normalizeScheduleForExport(rows, context) {
  // ‡πÅ‡∏õ‡∏•‡∏á schedule data ‡πÉ‡∏´‡πâ‡∏û‡∏£‡πâ‡∏≠‡∏° export
  return rows.map(row => ({
    '‡∏ß‡∏±‡∏ô': getThaiDayName(row.day_of_week),
    '‡πÄ‡∏ß‡∏•‡∏≤': getTimeSlot(row.period),
    '‡∏Ñ‡∏≤‡∏ö': row.period,
    '‡∏ß‡∏¥‡∏ä‡∏≤': row.subject_name,
    '‡∏£‡∏´‡∏±‡∏™‡∏ß‡∏¥‡∏ä‡∏≤': row.subject_code,
    '‡∏Ñ‡∏£‡∏π': row.teacher_name,
    '‡∏´‡πâ‡∏≠‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô': row.class_name,
    '‡∏´‡πâ‡∏≠‡∏á': `${row.room_name} (${row.room_type})`
  }));
}

export function generateExportFilename(base, context) {
  // ‡πÉ‡∏ä‡πâ EXPORT_CONST.defaultFilename
  const semester = context.semester?.semester_number || 'all';
  return `${base}_${context.year}_‡∏†‡∏≤‡∏Ñ${semester}_${new Date().toISOString().slice(0,10)}`;
}
Integration Functions:

bindExportButtons(container, exportData, context)
handleExportClick(type, data, filename)
showExportProgress(type)
hideExportProgress()

Error Handling:

Export failure recovery
File size validation
Browser compatibility checks

‚ö†Ô∏è STRICT TOKEN LIMIT:

‡∏´‡∏¢‡∏∏‡∏î‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÉ‡∏Å‡∏•‡πâ 80% token limit
‡∏´‡∏¢‡∏∏‡∏î‡∏ó‡∏µ‡πà‡∏à‡∏∏‡∏î‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏° (‡∏à‡∏ö section)
‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô: "üîÑ [CONTINUE_NEEDED] - ‡∏û‡∏¥‡∏°‡∏û‡πå 'continue' ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ó‡∏≥‡∏ï‡πà‡∏≠‡∏™‡πà‡∏ß‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏´‡∏•‡∏∑‡∏≠"
‡∏ö‡∏≠‡∏Å‡∏ß‡πà‡∏≤‡∏´‡∏¢‡∏∏‡∏î‡∏ï‡∏£‡∏á‡πÑ‡∏´‡∏ô ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏à‡∏∞‡πÑ‡∏î‡πâ‡∏ó‡∏≥‡∏ï‡πà‡∏≠‡∏ñ‡∏π‡∏Å‡∏à‡∏∏‡∏î

‚ö†Ô∏è rule

‡∏ó‡∏≥‡∏ó‡∏µ‡∏•‡∏∞‡∏™‡πà‡∏ß‡∏ô‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô‡∏ô‡∏ô‡∏ô
‡∏ó‡∏≥‡∏ó‡∏µ‡∏•‡∏∞‡∏™‡πà‡∏ß‡∏ô ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏£‡∏±‡∏Å‡∏©‡∏≤ Token Limit
‡∏ó‡∏≥‡∏ï‡∏≤‡∏° Token Limit Rule



‡∏ô‡∏µ‡πà‡∏Ñ‡∏∑‡∏≠ Prompts 16-20 ‡∏ó‡∏µ‡πà‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á‡πÅ‡∏•‡πâ‡∏ß:



** ‡∏≠‡∏¢‡πà‡∏≤‡πÉ‡∏´‡πâ‡∏°‡∏±‡∏ô‡πÄ‡∏Å‡∏¥‡∏ô Token ‡πÇ‡∏ò‡πà‡πÄ‡∏ß‡πà‡∏¢‡∏¢
** ‡∏´‡πâ‡∏≤‡∏°‡∏ó‡∏≥‡∏ô‡∏≠‡∏Å‡πÄ‡∏´‡∏ô‡∏∑‡∏≠‡∏û‡∏£‡∏≠‡∏°‡∏û‡πå‡πÄ‡∏î‡πá‡∏î‡∏Ç‡∏≤‡∏î
** rate limit ‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏ó‡∏µ‡∏™‡∏∏‡∏î ‡∏ó‡∏≥‡∏ó‡∏µ‡∏•‡∏∞‡∏™‡πà‡∏ß‡∏ô‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô
Prompt 16: Multi-Year API Services
‡∏™‡∏£‡πâ‡∏≤‡∏á API services ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Multi-Year System ‡∏û‡∏£‡πâ‡∏≠‡∏° Rooms:
1. js/api/academicYears.js - Academic Year API
2. js/api/semesters.js - Semester API
3. js/api/teachers.js - Enhanced Teacher API
4. js/api/classes.js - Classes API
5. js/api/rooms.js - Rooms API (‡πÉ‡∏´‡∏°‡πà)
6. js/api/subjects.js - Enhanced Subject API
7. js/api/schedules.js - Context-aware Schedule API
8. js/api/substitutions.js - Enhanced Substitution API
‡πÅ‡∏ï‡πà‡∏•‡∏∞‡πÑ‡∏ü‡∏•‡πå‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ:

Year-aware API calls ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö dynamic tables
Automatic table name generation
Context-aware error handling
CRUD operations with consistent interface
‡∏Ñ‡∏∑‡∏ô‡∏Ñ‡πà‡∏≤ { ok, data, error } ‡πÄ‡∏™‡∏°‡∏≠

Example for rooms.js:
javascriptimport { getYearBasedEndpoint, getTableName, apiError } from './config.js';

export async function getRooms(year) {
  try {
    const url = getYearBasedEndpoint('rooms', year);
    // fetch ‡∏´‡∏£‡∏∑‡∏≠ mock-resolver
    return { ok: true, data: roomsData };
  } catch (e) { 
    return apiError('GET rooms failed', 500, e); 
  }
}

export async function getRoomsByType(roomType, year);
export async function createRoom(roomData, year);
export async function updateRoom(roomId, roomData, year);
export async function deleteRoom(roomId, year);
export async function validateRoomAvailability(roomId, day, period, year);
Example for teachers.js:

getTeachers(year)
getTeacherById(id, year)
createTeacher(teacherData, year)
copyTeacherToNewYear(teacherId, fromYear, toYear)

Integration with Export:

API responses ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö export normalization
Include related data for efficient export queries

‚ö†Ô∏è STRICT TOKEN LIMIT:

‡∏´‡∏¢‡∏∏‡∏î‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÉ‡∏Å‡∏•‡πâ 80% token limit
‡∏´‡∏¢‡∏∏‡∏î‡∏ó‡∏µ‡πà‡∏à‡∏∏‡∏î‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏° (‡∏à‡∏ö section)
‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô: "üîÑ [CONTINUE_NEEDED] - ‡∏û‡∏¥‡∏°‡∏û‡πå 'continue' ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ó‡∏≥‡∏ï‡πà‡∏≠‡∏™‡πà‡∏ß‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏´‡∏•‡∏∑‡∏≠"
‡∏ö‡∏≠‡∏Å‡∏ß‡πà‡∏≤‡∏´‡∏¢‡∏∏‡∏î‡∏ï‡∏£‡∏á‡πÑ‡∏´‡∏ô ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏à‡∏∞‡πÑ‡∏î‡πâ‡∏ó‡∏≥‡∏ï‡πà‡∏≠‡∏ñ‡∏π‡∏Å‡∏à‡∏∏‡∏î

‚ö†Ô∏è rule

‡∏ó‡∏≥‡∏ó‡∏µ‡∏•‡∏∞‡∏™‡πà‡∏ß‡∏ô‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô‡∏ô‡∏ô‡∏ô
‡∏ó‡∏≥‡∏ó‡∏µ‡∏•‡∏∞‡∏™‡πà‡∏ß‡∏ô ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏£‡∏±‡∏Å‡∏©‡∏≤ Token Limit
‡∏ó‡∏≥‡∏ï‡∏≤‡∏° Token Limit Rule




** ‡∏≠‡∏¢‡πà‡∏≤‡πÉ‡∏´‡πâ‡∏°‡∏±‡∏ô‡πÄ‡∏Å‡∏¥‡∏ô Token ‡πÇ‡∏ò‡πà‡πÄ‡∏ß‡πà‡∏¢‡∏¢
** ‡∏´‡πâ‡∏≤‡∏°‡∏ó‡∏≥‡∏ô‡∏≠‡∏Å‡πÄ‡∏´‡∏ô‡∏∑‡∏≠‡∏û‡∏£‡∏≠‡∏°‡∏û‡πå‡πÄ‡∏î‡πá‡∏î‡∏Ç‡∏≤‡∏î
** rate limit ‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏ó‡∏µ‡∏™‡∏∏‡∏î ‡∏ó‡∏≥‡∏ó‡∏µ‡∏•‡∏∞‡∏™‡πà‡∏ß‡∏ô‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô
Prompt 17: Enhanced Data Service Layer
‡∏™‡∏£‡πâ‡∏≤‡∏á enhanced data service layer ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Multi-Year ‡∏û‡∏£‡πâ‡∏≠‡∏° Rooms ‡πÅ‡∏•‡∏∞ Export support:
js/services/dataService.js:
Features:

Multi-year data management ‡∏£‡∏ß‡∏° rooms
Context-aware data loading
Factory pattern ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö mock/real API switching
Cross-year data operations
Intelligent caching system
Export data preparation

Core Functions:
javascriptexport function initDataService(config); // { mode:'mock'|'api' }
export function setGlobalContext(year, semesterId);
export function switchToYear(year);
export function switchToSemester(semesterId);
Data Loading Functions:
javascriptexport async function loadAcademicYears();
export async function loadSemesters(yearId);
export async function loadYearData(year); // ‡∏£‡∏ß‡∏° rooms
export async function loadSemesterData(semesterId);
CRUD Operations (Context-Aware):
javascriptexport async function getTeachers(); // ‡πÉ‡∏ä‡πâ current context
export async function getClasses();
export async function getRooms(); // ‡πÉ‡∏´‡∏°‡πà
export async function getSubjects();
export async function getSchedules();
Cross-Year Operations:
javascriptexport function compareAcrossYears(dataType, years);
export function getTeacherHistory(teacherId);
export async function cloneYearData(fromYear, toYear);
Export Helpers (‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç):
javascriptexport function normalizeStudentScheduleForExport({ schedules, subjects, teachers, rooms, classes, classId, semesterId }) {
  // ‡∏£‡∏ß‡∏°‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏õ‡πá‡∏ô rows: ‡∏ß‡∏±‡∏ô/‡∏Ñ‡∏≤‡∏ö/‡∏ß‡∏¥‡∏ä‡∏≤/‡∏Ñ‡∏£‡∏π/‡∏´‡πâ‡∏≠‡∏á/‡∏£‡∏´‡∏±‡∏™‡∏ß‡∏¥‡∏ä‡∏≤
  return schedules.map(schedule => {
    const subject = subjects.find(s => s.id === schedule.subject_id);
    const teacher = teachers.find(t => t.id === subject.teacher_id);
    const room = rooms.find(r => r.id === schedule.room_id);
    const cls = classes.find(c => c.id === schedule.class_id);
    
    return {
      day: schedule.day_of_week,
      period: schedule.period,
      subject_name: subject.subject_name,
      subject_code: subject.subject_code,
      teacher_name: teacher.name,
      class_name: cls.class_name,
      room_name: room.name,
      room_type: room.room_type
    };
  });
}

export function normalizeTeacherScheduleForExport({ schedules, subjects, teachers, rooms, teacherId, semesterId });
export function normalizeSubstitutionForExport({ substitutions, schedules, subjects, teachers, rooms, date });
Cache Strategy:
javascriptconst cache = {
  years: null,
  semesters: {},
  byYear: {
    // 2567: { teachers, classes, rooms, subjects, schedules, substitutions }
  }
};
‚ö†Ô∏è STRICT TOKEN LIMIT:

‡∏´‡∏¢‡∏∏‡∏î‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÉ‡∏Å‡∏•‡πâ 80% token limit
‡∏´‡∏¢‡∏∏‡∏î‡∏ó‡∏µ‡πà‡∏à‡∏∏‡∏î‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏° (‡∏à‡∏ö section)
‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô: "üîÑ [CONTINUE_NEEDED] - ‡∏û‡∏¥‡∏°‡∏û‡πå 'continue' ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ó‡∏≥‡∏ï‡πà‡∏≠‡∏™‡πà‡∏ß‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏´‡∏•‡∏∑‡∏≠"
‡∏ö‡∏≠‡∏Å‡∏ß‡πà‡∏≤‡∏´‡∏¢‡∏∏‡∏î‡∏ï‡∏£‡∏á‡πÑ‡∏´‡∏ô ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏à‡∏∞‡πÑ‡∏î‡πâ‡∏ó‡∏≥‡∏ï‡πà‡∏≠‡∏ñ‡∏π‡∏Å‡∏à‡∏∏‡∏î

‚ö†Ô∏è rule

‡∏ó‡∏≥‡∏ó‡∏µ‡∏•‡∏∞‡∏™‡πà‡∏ß‡∏ô‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô‡∏ô‡∏ô‡∏ô
‡∏ó‡∏≥‡∏ó‡∏µ‡∏•‡∏∞‡∏™‡πà‡∏ß‡∏ô ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏£‡∏±‡∏Å‡∏©‡∏≤ Token Limit
‡∏ó‡∏≥‡∏ï‡∏≤‡∏° Token Limit Rule


** ‡∏≠‡∏¢‡πà‡∏≤‡πÉ‡∏´‡πâ‡∏°‡∏±‡∏ô‡πÄ‡∏Å‡∏¥‡∏ô Token ‡πÇ‡∏ò‡πà‡πÄ‡∏ß‡πà‡∏¢‡∏¢

** ‡∏≠‡∏¢‡πà‡∏≤‡πÉ‡∏´‡πâ‡∏°‡∏±‡∏ô‡πÄ‡∏Å‡∏¥‡∏ô Token ‡πÇ‡∏ò‡πà‡πÄ‡∏ß‡πà‡∏¢‡∏¢
** ‡∏´‡πâ‡∏≤‡∏°‡∏ó‡∏≥‡∏ô‡∏≠‡∏Å‡πÄ‡∏´‡∏ô‡∏∑‡∏≠‡∏û‡∏£‡∏≠‡∏°‡∏û‡πå‡πÄ‡∏î‡πá‡∏î‡∏Ç‡∏≤‡∏î
** rate limit ‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏ó‡∏µ‡∏™‡∏∏‡∏î ‡∏ó‡∏≥‡∏ó‡∏µ‡∏•‡∏∞‡∏™‡πà‡∏ß‡∏ô‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô
Prompt 18: Year Service Layer
‡∏™‡∏£‡πâ‡∏≤‡∏á dedicated year service ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö academic year management ‡∏û‡∏£‡πâ‡∏≠‡∏° rooms:
js/services/yearService.js:
Features:

Academic year ‡πÅ‡∏•‡∏∞ semester management
Context switching logic
Year transition workflows
Data migration helpers ‡∏£‡∏ß‡∏° rooms
Table management ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö rooms

Core Functions:
javascriptexport function initYearService();
export function getCurrentAcademicYear();
export function getCurrentSemester();
export function setActiveContext(year, semesterId);
Year Operations:
javascriptexport async function createNewAcademicYear(yearData);
export async function setupSemestersForYear(year, semesterConfig);
export async function cloneYearStructure(fromYear, toYear, { includeRooms = true });
export async function archiveYear(year);
Table Management (‡∏£‡∏ß‡∏° rooms):
javascriptexport function createYearTables(year, { rooms = true });
// ‡∏™‡∏£‡πâ‡∏≤‡∏á: teachers_YEAR, classes_YEAR, rooms_YEAR, subjects_YEAR, schedules_YEAR, substitutions_YEAR

export function getTableName(baseTable, year); // rooms_2567
export async function validateTableExists(tableName);
export function getAvailableYearTables(baseTable);
Room-Specific Operations:
javascriptexport async function cloneRoomsToNewYear(fromYear, toYear);
export async function validateRoomIntegrity(year);
export async function migrateRoomAssignments(fromYear, toYear);
Event System:
javascriptexport function onYearChange(callback);
export function onSemesterChange(callback);
export function onRoomDataChange(callback);
Migration Helpers:
javascriptexport async function migrateDataToNewYear(fromYear, toYear, options = {}) {
  const { includeTeachers, includeRooms, includeSubjects } = options;
  
  if (includeTeachers) await migrateTeachers(fromYear, toYear);
  if (includeRooms) await migrateRooms(fromYear, toYear);
  if (includeSubjects) await migrateSubjects(fromYear, toYear);
}
‚ö†Ô∏è STRICT TOKEN LIMIT:

‡∏´‡∏¢‡∏∏‡∏î‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÉ‡∏Å‡∏•‡πâ 80% token limit
‡∏´‡∏¢‡∏∏‡∏î‡∏ó‡∏µ‡πà‡∏à‡∏∏‡∏î‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏° (‡∏à‡∏ö section)
‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô: "üîÑ [CONTINUE_NEEDED] - ‡∏û‡∏¥‡∏°‡∏û‡πå 'continue' ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ó‡∏≥‡∏ï‡πà‡∏≠‡∏™‡πà‡∏ß‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏´‡∏•‡∏∑‡∏≠"
‡∏ö‡∏≠‡∏Å‡∏ß‡πà‡∏≤‡∏´‡∏¢‡∏∏‡∏î‡∏ï‡∏£‡∏á‡πÑ‡∏´‡∏ô ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏à‡∏∞‡πÑ‡∏î‡πâ‡∏ó‡∏≥‡∏ï‡πà‡∏≠‡∏ñ‡∏π‡∏Å‡∏à‡∏∏‡∏î

‚ö†Ô∏è rule

‡∏ó‡∏≥‡∏ó‡∏µ‡∏•‡∏∞‡∏™‡πà‡∏ß‡∏ô‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô‡∏ô‡∏ô‡∏ô
‡∏ó‡∏≥‡∏ó‡∏µ‡∏•‡∏∞‡∏™‡πà‡∏ß‡∏ô ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏£‡∏±‡∏Å‡∏©‡∏≤ Token Limit
‡∏ó‡∏≥‡∏ï‡∏≤‡∏° Token Limit Rule




** ‡∏≠‡∏¢‡πà‡∏≤‡πÉ‡∏´‡πâ‡∏°‡∏±‡∏ô‡πÄ‡∏Å‡∏¥‡∏ô Token ‡πÇ‡∏ò‡πà‡πÄ‡∏ß‡πà‡∏¢‡∏¢
** ‡∏´‡πâ‡∏≤‡∏°‡∏ó‡∏≥‡∏ô‡∏≠‡∏Å‡πÄ‡∏´‡∏ô‡∏∑‡∏≠‡∏û‡∏£‡∏≠‡∏°‡∏û‡πå‡πÄ‡∏î‡πá‡∏î‡∏Ç‡∏≤‡∏î
** rate limit ‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏ó‡∏µ‡∏™‡∏∏‡∏î ‡∏ó‡∏≥‡∏ó‡∏µ‡∏•‡∏∞‡∏™‡πà‡∏ß‡∏ô‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô
Prompt 19: Global Context Management
‡∏™‡∏£‡πâ‡∏≤‡∏á global context management system ‡∏û‡∏£‡πâ‡∏≠‡∏° rooms integration:
js/context/globalContext.js:
Features:

Centralized context state management
Context persistence (localStorage)
UI synchronization
Context-aware component updates
Rooms data integration

Context State:
javascriptconst globalContext = {
  currentYear: null,
  currentSemester: null,
  availableYears: [],
  availableSemesters: [],
  currentRooms: [], // ‡πÉ‡∏´‡∏°‡πà - rooms ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏õ‡∏µ‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô
  userRole: 'teacher',
  isLoading: false,
  error: null
};
Core Functions:
javascriptexport async function initGlobalContext();
export function setContext(year, semesterId);
export function getContext();
export function updateContext(partialContext);
export function resetContext();
Context Persistence:
javascriptexport function saveContextToStorage();
export function loadContextFromStorage();
export function clearStoredContext();
export function isContextValid(storedContext);
Context Validation:
javascriptexport function validateYear(year);
export function validateSemester(semesterId, year);
export function validateUserAccess(year, userRole);
export function checkContextIntegrity();
UI Synchronization:
javascriptexport function updateContextUI();
export function updateYearSelector(availableYears);
export function updateSemesterSelector(availableSemesters);
export function showContextSwitchLoading();
export function hideContextSwitchLoading();
Context Switching Logic:
javascriptexport async function switchContext(newYear, newSemesterId) {
  try {
    showContextSwitchLoading();
    
    // Validate new context
    await validateContext(newYear, newSemesterId);
    
    // Update context
    setContext(newYear, newSemesterId);
    
    // Load rooms for new year
    const rooms = await dataService.getRooms(newYear);
    updateContext({ currentRooms: rooms.data });
    
    // Clear relevant caches
    await clearContextCaches();
    
    // Reload data for new context
    await loadContextData();
    
    // Update UI
    updateContextUI();
    
    // Notify listeners
    notifyContextChange();
    
  } catch (error) {
    handleContextError(error);
  } finally {
    hideContextSwitchLoading();
  }
}
Event Management:
javascriptexport function onContextChange(callback);
export function onYearChange(callback);
export function onSemesterChange(callback);
export function onContextError(callback);
Integration Helpers:
javascriptexport function contextAwareComponent(component);
export function useGlobalContext();
export function withContext(component);
‚ö†Ô∏è STRICT TOKEN LIMIT:

‡∏´‡∏¢‡∏∏‡∏î‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÉ‡∏Å‡∏•‡πâ 80% token limit
‡∏´‡∏¢‡∏∏‡∏î‡∏ó‡∏µ‡πà‡∏à‡∏∏‡∏î‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏° (‡∏à‡∏ö section)
‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô: "üîÑ [CONTINUE_NEEDED] - ‡∏û‡∏¥‡∏°‡∏û‡πå 'continue' ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ó‡∏≥‡∏ï‡πà‡∏≠‡∏™‡πà‡∏ß‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏´‡∏•‡∏∑‡∏≠"
‡∏ö‡∏≠‡∏Å‡∏ß‡πà‡∏≤‡∏´‡∏¢‡∏∏‡∏î‡∏ï‡∏£‡∏á‡πÑ‡∏´‡∏ô ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏à‡∏∞‡πÑ‡∏î‡πâ‡∏ó‡∏≥‡∏ï‡πà‡∏≠‡∏ñ‡∏π‡∏Å‡∏à‡∏∏‡∏î

‚ö†Ô∏è rule

‡∏ó‡∏≥‡∏ó‡∏µ‡∏•‡∏∞‡∏™‡πà‡∏ß‡∏ô‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô‡∏ô‡∏ô‡∏ô
‡∏ó‡∏≥‡∏ó‡∏µ‡∏•‡∏∞‡∏™‡πà‡∏ß‡∏ô ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏£‡∏±‡∏Å‡∏©‡∏≤ Token Limit
‡∏ó‡∏≥‡∏ï‡∏≤‡∏° Token Limit Rule




** ‡∏≠‡∏¢‡πà‡∏≤‡πÉ‡∏´‡πâ‡∏°‡∏±‡∏ô‡πÄ‡∏Å‡∏¥‡∏ô Token ‡πÇ‡∏ò‡πà‡πÄ‡∏ß‡πà‡∏¢‡∏¢
** ‡∏´‡πâ‡∏≤‡∏°‡∏ó‡∏≥‡∏ô‡∏≠‡∏Å‡πÄ‡∏´‡∏ô‡∏∑‡∏≠‡∏û‡∏£‡∏≠‡∏°‡∏û‡πå‡πÄ‡∏î‡πá‡∏î‡∏Ç‡∏≤‡∏î
** rate limit ‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏ó‡∏µ‡∏™‡∏∏‡∏î ‡∏ó‡∏≥‡∏ó‡∏µ‡∏•‡∏∞‡∏™‡πà‡∏ß‡∏ô‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô
Prompt 20: Enhanced Utility Functions
‡∏™‡∏£‡πâ‡∏≤‡∏á enhanced utility functions ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Multi-Year System ‡∏û‡∏£‡πâ‡∏≠‡∏° Rooms ‡πÅ‡∏•‡∏∞ Export:
js/utils.js:
Academic Year Functions:
javascriptexport const formatAcademicYear = (year) => `‡∏õ‡∏µ‡∏Å‡∏≤‡∏£‡∏®‡∏∂‡∏Å‡∏©‡∏≤ ${year}`;
export const parseAcademicYear = (yearString) => Number(String(yearString).replace(/\D/g,''));
export const getThaiAcademicYear = (gregorianYear) => gregorianYear + 543;
export const getGregorianYear = (thaiYear) => thaiYear - 543;
export const isValidAcademicYear = (year) => Number.isInteger(year) && year >= 2500 && year <= 3000;
export const getYearRange = (startYear, endYear) => Array.from({length: endYear-startYear+1}, (_,i)=>startYear+i);
Semester Functions:
javascriptexport const getSemesterName = (semesterNumber) => {
  switch(semesterNumber) {
    case 1: return '‡∏†‡∏≤‡∏Ñ‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏ó‡∏µ‡πà 1';
    case 2: return '‡∏†‡∏≤‡∏Ñ‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏ó‡∏µ‡πà 2';
    case 3: return '‡∏†‡∏≤‡∏Ñ‡∏§‡∏î‡∏π‡∏£‡πâ‡∏≠‡∏ô';
    default: return `‡∏†‡∏≤‡∏Ñ‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏ó‡∏µ‡πà ${semesterNumber}`;
  }
};
export const formatSemester = (semesterData) => `${getSemesterName(semesterData.semester_number)} ‡∏õ‡∏µ‡∏Å‡∏≤‡∏£‡∏®‡∏∂‡∏Å‡∏©‡∏≤ ${semesterData.year ?? ''}`;
export const isActiveSemester = (semesterData) => !!semesterData.is_active;
export const getSemesterDateRange = (semesterData) => ({ start: semesterData.start_date, end: semesterData.end_date });
export const calculateSemesterWeeks = (semesterData) => /* ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏™‡∏±‡∏õ‡∏î‡∏≤‡∏´‡πå */;
Date & Time Functions:
javascriptexport const formatThaiDate = (date) => /* "15 ‡∏Å.‡∏¢. 2567" */;
export const formatThaiDateTime = (date) => /* "15 ‡∏Å.‡∏¢. 2567 ‡πÄ‡∏ß‡∏•‡∏≤ 14:30" */;
export const getThaiYear = (date) => getThaiAcademicYear(new Date(date).getFullYear());
export const isInSemester = (date, semesterData) => /* ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô‡∏†‡∏≤‡∏Ñ‡πÄ‡∏£‡∏µ‡∏¢‡∏ô */;
export const getAcademicWeek = (date, semesterData) => /* ‡∏™‡∏±‡∏õ‡∏î‡∏≤‡∏´‡πå‡∏ó‡∏µ‡πà‡∏Ç‡∏≠‡∏á‡∏†‡∏≤‡∏Ñ‡πÄ‡∏£‡∏µ‡∏¢‡∏ô */;
export const generateTimeSlots = () => [
  '08:20-09:10', '09:10-10:00', '10:00-10:50', '10:50-11:40',
  '13:00-13:50', '13:50-14:40', '14:40-15:30', '15:30-16:20'
];
export const getDayName = (dayNumber) => ['‡∏à','‡∏≠','‡∏û','‡∏û‡∏§','‡∏®','‡∏™','‡∏≠‡∏≤'][dayNumber-1] || '';
export const getThaiDayName = (dayNumber) => ['‡∏ß‡∏±‡∏ô‡∏à‡∏±‡∏ô‡∏ó‡∏£‡πå','‡∏ß‡∏±‡∏ô‡∏≠‡∏±‡∏á‡∏Ñ‡∏≤‡∏£','‡∏ß‡∏±‡∏ô‡∏û‡∏∏‡∏ò','‡∏ß‡∏±‡∏ô‡∏û‡∏§‡∏´‡∏±‡∏™‡∏ö‡∏î‡∏µ','‡∏ß‡∏±‡∏ô‡∏®‡∏∏‡∏Å‡∏£‡πå','‡∏ß‡∏±‡∏ô‡πÄ‡∏™‡∏≤‡∏£‡πå','‡∏ß‡∏±‡∏ô‡∏≠‡∏≤‡∏ó‡∏¥‡∏ï‡∏¢‡πå'][dayNumber-1] || '';
Class & Teacher Functions:
javascriptexport const parseClassName = (className) => {
  const parts = className.split('/');
  return { grade: parts[0], section: parseInt(parts[1]) };
};
export const generateClassName = (grade, section) => `${grade}/${section}`;
export const getGradeLevel = (className) => className.split('/')[0];
export const getSectionNumber = (className) => Number(className.split('/')[1] || 1);
export const formatTeacherName = (teacher) => teacher ? `${teacher.name} (${teacher.subject_group})` : '';
export const getTeacherSubjectGroup = (teacher) => teacher?.subject_group ?? '';
Room Functions (‡πÉ‡∏´‡∏°‡πà):
javascriptexport const formatRoomName = (room) => room ? `${room.name} (${room.room_type})` : '';
export const getRoomTypeBadgeClass = (roomType) => {
  switch(roomType) {
    case 'TECH': return 'badge--tech';
    case 'CLASS': return 'badge--classroom';
    default: return 'badge--default';
  }
};
export const isRoomAvailable = (room, day, period, existingSchedules) => /* ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏´‡πâ‡∏≠‡∏á‡∏ß‡πà‡∏≤‡∏á */;
export const getRoomCapacityStatus = (room, studentCount) => /* ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏à‡∏∏ */;
Conflict Validation (‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç):
javascriptexport function validateScheduleConflict(newItem, existingSchedules, { subjects, rooms, semesterId }) {
  // ‡∏ï‡∏£‡∏ß‡∏à‡∏Ñ‡∏£‡∏ö 3 ‡∏°‡∏¥‡∏ï‡∏¥: teacher/class/room
  const conflicts = {
    teacher: false,
    class: false,
    room: false
  };
  
  // Teacher conflict check
  const subject = subjects.find(s => s.id === newItem.subject_id);
  const teacherConflict = existingSchedules.find(existing => {
    const existingSubject = subjects.find(s => s.id === existing.subject_id);
    return existingSubject.teacher_id === subject.teacher_id &&
           existing.day_of_week === newItem.day_of_week &&
           existing.period === newItem.period;
  });
  
  // Class conflict check
  const classConflict = existingSchedules.find(existing =>
    existing.class_id === newItem.class_id &&
    existing.day_of_week === newItem.day_of_week &&
    existing.period === newItem.period
  );
  
  // Room conflict check
  const roomConflict = existingSchedules.find(existing =>
    existing.room_id === newItem.room_id &&
    existing.day_of_week === newItem.day_of_week &&
    existing.period === newItem.period
  );
  
  return {
    ok: !teacherConflict && !classConflict && !roomConflict,
    conflicts: {
      teacher: !!teacherConflict,
      class: !!classConflict,
      room: !!roomConflict
    },
    details: { teacherConflict, classConflict, roomConflict }
  };
}
‚ö†Ô∏è STRICT TOKEN LIMIT:

‡∏´‡∏¢‡∏∏‡∏î‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÉ‡∏Å‡∏•‡πâ 80% token limit
‡∏´‡∏¢‡∏∏‡∏î‡∏ó‡∏µ‡πà‡∏à‡∏∏‡∏î‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏° (‡∏à‡∏ö section)
‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô: "üîÑ [CONTINUE_NEEDED] - ‡∏û‡∏¥‡∏°‡∏û‡πå 'continue' ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ó‡∏≥‡∏ï‡πà‡∏≠‡∏™‡πà‡∏ß‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏´‡∏•‡∏∑‡∏≠"
‡∏ö‡∏≠‡∏Å‡∏ß‡πà‡∏≤‡∏´‡∏¢‡∏∏‡∏î‡∏ï‡∏£‡∏á‡πÑ‡∏´‡∏ô ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏à‡∏∞‡πÑ‡∏î‡πâ‡∏ó‡∏≥‡∏ï‡πà‡∏≠‡∏ñ‡∏π‡∏Å‡∏à‡∏∏‡∏î

‚ö†Ô∏è rule

‡∏ó‡∏≥‡∏ó‡∏µ‡∏•‡∏∞‡∏™‡πà‡∏ß‡∏ô‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô‡∏ô‡∏ô‡∏ô
‡∏ó‡∏≥‡∏ó‡∏µ‡∏•‡∏∞‡∏™‡πà‡∏ß‡∏ô ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏£‡∏±‡∏Å‡∏©‡∏≤ Token Limit
‡∏ó‡∏≥‡∏ï‡∏≤‡∏° Token Limit Rule




** ‡∏≠‡∏¢‡πà‡∏≤‡πÉ‡∏´‡πâ‡∏°‡∏±‡∏ô‡πÄ‡∏Å‡∏¥‡∏ô Token ‡πÇ‡∏ò‡πà‡πÄ‡∏ß‡πà‡∏¢‡∏¢
** ‡∏´‡πâ‡∏≤‡∏°‡∏ó‡∏≥‡∏ô‡∏≠‡∏Å‡πÄ‡∏´‡∏ô‡∏∑‡∏≠‡∏û‡∏£‡∏≠‡∏°‡∏û‡πå‡πÄ‡∏î‡πá‡∏î‡∏Ç‡∏≤‡∏î
** rate limit ‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏ó‡∏µ‡∏™‡∏∏‡∏î ‡∏ó‡∏≥‡∏ó‡∏µ‡∏•‡∏∞‡∏™‡πà‡∏ß‡∏ô‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô
Prompt 21: Enhanced Navigation System
‡∏™‡∏£‡πâ‡∏≤‡∏á enhanced navigation system ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Multi-Year ‡∏û‡∏£‡πâ‡∏≠‡∏° Export integration:
js/navigation.js:
Features:

Context-aware navigation
Global context bar management
URL routing with year/semester parameters
Navigation state persistence
Export button integration
Breadcrumb navigation

Global Context Bar:
javascriptexport function renderContextBar();
export function updateYearSelector(availableYears, currentYear);
export function updateSemesterSelector(availableSemesters, currentSemester);
export function handleYearChange(newYear);
export function handleSemesterChange(newSemesterId);
export function showContextLoading();
export function hideContextLoading();
Main Navigation:
javascriptexport function initNavigation();
export function showPage(pageId, context);
export function updateActiveNavItem(pageId);
export function setPageContext(pageId, year, semesterId);
export function getPageContext(pageId);
Sub Navigation (Enhanced):
javascriptexport function initSubNavigation(pageId);
export function showSubPage(subPageId, context);
export function updateSubNavigation(pageId, availableSubPages);
export function setSubPageContext(subPageId, context);
URL Management:
javascriptexport function updateURL(pageId, subPageId, year, semesterId);
export function parseURL(); // return {pageId, subPageId, year, semesterId}
export function handleURLChange(); // on hashchange/popstate
export function generatePageURL(pageId, subPageId, context);
Export Integration:
javascriptexport function renderExportBar(pageId, context);
export function bindExportButtons(pageId, exportData);
export function updateExportButtonsForContext(context);
export function hideExportForHistorical(context); // ‡∏ã‡πà‡∏≠‡∏ô Google Sheets ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏Å‡πà‡∏≤
Context Navigation:
javascriptexport function navigateWithContext(pageId, subPageId);
export function preservePageContext(pageId);
export function restorePageContext(pageId);
export function clearPageContext(pageId);
Navigation State:
javascriptconst navigationState = {
  currentPage: null,
  currentSubPage: null,
  pageHistory: [],
  contextHistory: [],
  teacherTabStates: {},
  mobileMenuOpen: false,
  exportStates: {} // ‡πÉ‡∏´‡∏°‡πà - ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏à‡∏≥‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ export
};
‚ö†Ô∏è STRICT TOKEN LIMIT:

‡∏´‡∏¢‡∏∏‡∏î‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÉ‡∏Å‡∏•‡πâ 80% token limit
‡∏´‡∏¢‡∏∏‡∏î‡∏ó‡∏µ‡πà‡∏à‡∏∏‡∏î‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏° (‡∏à‡∏ö section)
‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô: "üîÑ [CONTINUE_NEEDED] - ‡∏û‡∏¥‡∏°‡∏û‡πå 'continue' ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ó‡∏≥‡∏ï‡πà‡∏≠‡∏™‡πà‡∏ß‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏´‡∏•‡∏∑‡∏≠"
‡∏ö‡∏≠‡∏Å‡∏ß‡πà‡∏≤‡∏´‡∏¢‡∏∏‡∏î‡∏ï‡∏£‡∏á‡πÑ‡∏´‡∏ô ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏à‡∏∞‡πÑ‡∏î‡πâ‡∏ó‡∏≥‡∏ï‡πà‡∏≠‡∏ñ‡∏π‡∏Å‡∏à‡∏∏‡∏î

‚ö†Ô∏è rule

‡∏ó‡∏≥‡∏ó‡∏µ‡∏•‡∏∞‡∏™‡πà‡∏ß‡∏ô‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô‡∏ô‡∏ô‡∏ô
‡∏ó‡∏≥‡∏ó‡∏µ‡∏•‡∏∞‡∏™‡πà‡∏ß‡∏ô ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏£‡∏±‡∏Å‡∏©‡∏≤ Token Limit
‡∏ó‡∏≥‡∏ï‡∏≤‡∏° Token Limit Rule




** ‡∏≠‡∏¢‡πà‡∏≤‡πÉ‡∏´‡πâ‡∏°‡∏±‡∏ô‡πÄ‡∏Å‡∏¥‡∏ô Token ‡πÇ‡∏ò‡πà‡πÄ‡∏ß‡πà‡∏¢‡∏¢
** ‡∏´‡πâ‡∏≤‡∏°‡∏ó‡∏≥‡∏ô‡∏≠‡∏Å‡πÄ‡∏´‡∏ô‡∏∑‡∏≠‡∏û‡∏£‡∏≠‡∏°‡∏û‡πå‡πÄ‡∏î‡πá‡∏î‡∏Ç‡∏≤‡∏î
** rate limit ‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏ó‡∏µ‡∏™‡∏∏‡∏î ‡∏ó‡∏≥‡∏ó‡∏µ‡∏•‡∏∞‡∏™‡πà‡∏ß‡∏ô‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô
Prompt 22: Enhanced Student Schedule Page
‡∏™‡∏£‡πâ‡∏≤‡∏á enhanced student schedule page ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Multi-Year ‡∏û‡∏£‡πâ‡∏≠‡∏° Export ‡πÅ‡∏•‡∏∞ Rooms:
js/pages/studentSchedule.js:
Features:

Context-aware schedule loading
Class selector integration
Room information display
Export functionality (CSV/XLSX/Google Sheets)
Historical schedule viewing

Context Integration:
javascriptexport async function initStudentSchedulePage(context);
export function updatePageForContext(newContext);
export async function loadScheduleForContext(className, context);
export function validateContextAccess(context);
UI Components:
javascriptexport function renderContextControls(context);
export function renderClassSelector(availableClasses, selectedClass);
export function renderScheduleHeader(className, context); // ‡∏ä‡∏∑‡πà‡∏≠‡∏´‡πâ‡∏≠‡∏á + ‡∏†‡∏≤‡∏Ñ‡πÄ‡∏£‡∏µ‡∏¢‡∏ô/‡∏õ‡∏µ
export function renderScheduleTable(scheduleData, context); // 3 ‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î/‡πÄ‡∏ã‡∏•‡∏•‡πå: ‡∏ß‡∏¥‡∏ä‡∏≤/‡∏Ñ‡∏£‡∏π/‡∏´‡πâ‡∏≠‡∏á
export function renderEmptyScheduleState(className, context);
Enhanced Schedule Display:
javascriptexport function generateScheduleTable(scheduleData, className, context) {
  // ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ï‡∏≤‡∏£‡∏≤‡∏á 8 ‡∏Ñ‡∏≤‡∏ö x 5 ‡∏ß‡∏±‡∏ô
  // ‡πÅ‡∏ï‡πà‡∏•‡∏∞‡πÄ‡∏ã‡∏•‡∏•‡πå‡πÅ‡∏™‡∏î‡∏á:
  // ‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î 1: ‡∏ß‡∏¥‡∏ä‡∏≤ (subject_name)
  // ‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î 2: ‡∏Ñ‡∏£‡∏π (teacher_name)  
  // ‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î 3: ‡∏´‡πâ‡∏≠‡∏á (room_name + room_type badge)
}

export function formatScheduleCell(subject, teacher, room, context) {
  return `
    <div class="schedule-cell">
      <div class="subject-name">${subject.subject_name}</div>
      <div class="teacher-name">${teacher.name}</div>
      <div class="room-info">
        ${room.name} 
        <span class="badge ${getRoomTypeBadgeClass(room.room_type)}">
          ${room.room_type}
        </span>
      </div>
    </div>
  `;
}

export function highlightCurrentPeriod(context); // ‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡πÄ‡∏ó‡∏≠‡∏°‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô
Export Functionality:
javascriptimport { exportTableToCSV, exportTableToXLSX, exportTableToGoogleSheets } from '../utils/export.js';
import { normalizeStudentScheduleForExport } from '../services/dataService.js';

export function renderExportBar(context) {
  const isHistorical = !isCurrentSemester(context.semesterId);
  
  return `
    <div class="export-bar">
      <button class="btn btn--sm btn--export" data-export-type="csv">
        üìÑ Export CSV
      </button>
      <button class="btn btn--sm btn--export" data-export-type="xlsx">
        üìä Export Excel
      </button>
      ${!isHistorical ? `
        <button class="btn btn--sm btn--export btn--gsheets" data-export-type="gsheets">
          üìã Google Sheets
        </button>
      ` : ''}
    </div>
  `;
}

export async function exportSchedule(format, className, context) {
  const scheduleData = await normalizeStudentScheduleForExport({
    classId: getClassIdByName(className),
    semesterId: context.semesterId
  });
  
  const filename = generateExportFilename(`‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô-${className}`, context);
  
  switch(format) {
    case 'csv': return exportTableToCSV(scheduleData, filename);
    case 'xlsx': return exportTableToXLSX(scheduleData, filename);
    case 'gsheets': return exportTableToGoogleSheets(scheduleData, filename);
  }
}
Multi-Year Features:
javascriptexport function compareScheduleAcrossSemesters(className, semester1, semester2);
export function showScheduleHistory(className, yearRange);
export function detectScheduleChanges(oldSchedule, newSchedule);
‚ö†Ô∏è STRICT TOKEN LIMIT:

‡∏´‡∏¢‡∏∏‡∏î‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÉ‡∏Å‡∏•‡πâ 80% token limit
‡∏´‡∏¢‡∏∏‡∏î‡∏ó‡∏µ‡πà‡∏à‡∏∏‡∏î‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏° (‡∏à‡∏ö section)
‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô: "üîÑ [CONTINUE_NEEDED] - ‡∏û‡∏¥‡∏°‡∏û‡πå 'continue' ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ó‡∏≥‡∏ï‡πà‡∏≠‡∏™‡πà‡∏ß‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏´‡∏•‡∏∑‡∏≠"
‡∏ö‡∏≠‡∏Å‡∏ß‡πà‡∏≤‡∏´‡∏¢‡∏∏‡∏î‡∏ï‡∏£‡∏á‡πÑ‡∏´‡∏ô ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏à‡∏∞‡πÑ‡∏î‡πâ‡∏ó‡∏≥‡∏ï‡πà‡∏≠‡∏ñ‡∏π‡∏Å‡∏à‡∏∏‡∏î

‚ö†Ô∏è rule

‡∏ó‡∏≥‡∏ó‡∏µ‡∏•‡∏∞‡∏™‡πà‡∏ß‡∏ô‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô‡∏ô‡∏ô‡∏ô
‡∏ó‡∏≥‡∏ó‡∏µ‡∏•‡∏∞‡∏™‡πà‡∏ß‡∏ô ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏£‡∏±‡∏Å‡∏©‡∏≤ Token Limit
‡∏ó‡∏≥‡∏ï‡∏≤‡∏° Token Limit Rule




** ‡∏≠‡∏¢‡πà‡∏≤‡πÉ‡∏´‡πâ‡∏°‡∏±‡∏ô‡πÄ‡∏Å‡∏¥‡∏ô Token ‡πÇ‡∏ò‡πà‡πÄ‡∏ß‡πà‡∏¢‡∏¢
** ‡∏´‡πâ‡∏≤‡∏°‡∏ó‡∏≥‡∏ô‡∏≠‡∏Å‡πÄ‡∏´‡∏ô‡∏∑‡∏≠‡∏û‡∏£‡∏≠‡∏°‡∏û‡πå‡πÄ‡∏î‡πá‡∏î‡∏Ç‡∏≤‡∏î
** rate limit ‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏ó‡∏µ‡∏™‡∏∏‡∏î ‡∏ó‡∏≥‡∏ó‡∏µ‡∏•‡∏∞‡∏™‡πà‡∏ß‡∏ô‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô
Prompt 23: Enhanced Teacher Schedule Page
‡∏™‡∏£‡πâ‡∏≤‡∏á enhanced teacher schedule page ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Multi-Year ‡∏û‡∏£‡πâ‡∏≠‡∏° Export ‡πÅ‡∏•‡∏∞ Rooms:
js/pages/teacherSchedule.js:
Features:

Context-aware teacher data loading
Multi-year workload analysis
Room usage tracking
Export functionality
Teacher evolution tracking

Context Integration:
javascriptexport async function initTeacherSchedulePage(context);
export function updatePageForContext(newContext);
export async function loadTeacherDataForContext(context);
export function validateTeacherContextAccess(teacherId, context);
Sub Navigation Enhanced:
javascriptexport function initTeacherSubNavigation(context);
export function switchToWorkloadSummary(context);
export function switchToTeacherDetails(context);
export function updateSubNavForContext(newContext);
Workload Summary (Context-Aware):
javascriptexport function renderWorkloadSummary(context) {
  return `
    <div class="workload-header">
      <h3>üìä ‡∏™‡∏£‡∏∏‡∏õ‡∏†‡∏≤‡∏£‡∏∞‡∏á‡∏≤‡∏ô‡∏™‡∏≠‡∏ô</h3>
      <p class="context-info">
        ${formatSemester(context.semester)} ‡∏õ‡∏µ‡∏Å‡∏≤‡∏£‡∏®‡∏∂‡∏Å‡∏©‡∏≤ ${context.year}
      </p>
    </div>
    <div class="workload-content">
      ${renderSubjectGroupBreakdown(context)}
      ${renderTeacherRanking(context)}
      ${renderRoomUsageStats(context)}
    </div>
  `;
}

export function calculateSubjectGroupHours(context, {subjects});
export function generateTeacherRanking(context, {subjects});
export function renderRoomUsageStats(context); // ‡πÉ‡∏´‡∏°‡πà - ‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏´‡πâ‡∏≠‡∏á
Teacher Details View:
javascriptexport function createTeacherTabs(availableTeachers, context);
export async function loadTeacherSchedule(teacherId, context);

export function renderTeacherScheduleTable(data, context) {
  // ‡πÅ‡∏ï‡πà‡∏•‡∏∞‡πÄ‡∏ã‡∏•‡∏•‡πå‡πÅ‡∏™‡∏î‡∏á:
  // ‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î 1: ‡∏ß‡∏¥‡∏ä‡∏≤ (subject_name + subject_code)
  // ‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î 2: ‡∏ä‡∏±‡πâ‡∏ô‡πÄ‡∏£‡∏µ‡∏¢‡∏ô (class_name)
  // ‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î 3: ‡∏´‡πâ‡∏≠‡∏á (room_name + room_type badge)
}

export function calculateTeacherWorkload(teacherId, context);
export function showTeacherRoomUsage(teacherId, context); // ‡πÉ‡∏´‡∏°‡πà - ‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏´‡πâ‡∏≠‡∏á‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏£‡∏π
Export Functionality:
javascriptexport function renderTeacherExportBar(context) {
  const isHistorical = !isCurrentSemester(context.semesterId);
  
  return `
    <div class="export-bar">
      <button class="btn btn--sm btn--export" data-export-type="csv" data-target="teacher">
        üìÑ Export ‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏Ñ‡∏£‡∏π CSV
      </button>
      <button class="btn btn--sm btn--export" data-export-type="xlsx" data-target="teacher">
        üìä Export ‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏Ñ‡∏£‡∏π Excel
      </button>
      ${!isHistorical ? `
        <button class="btn btn--sm btn--export btn--gsheets" data-export-type="gsheets" data-target="teacher">
          üìã Google Sheets
        </button>
      ` : ''}
    </div>
  `;
}

export async function exportTeacherData(teacherId, context, format) {
  const scheduleData = await normalizeTeacherScheduleForExport({
    teacherId,
    semesterId: context.semesterId
  });
  
  const teacher = await getTeacherById(teacherId, context.year);
  const filename = generateExportFilename(`‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏™‡∏≠‡∏ô-${teacher.name}`, context);
  
  switch(format) {
    case 'csv': return exportTableToCSV(scheduleData, filename);
    case 'xlsx': return exportTableToXLSX(scheduleData, filename);
    case 'gsheets': return exportTableToGoogleSheets(scheduleData, filename);
  }
}
Enhanced Analysis:
javascriptexport function analyzeTeacherRoomPreferences(teacherId, context);
export function detectTeacherScheduleConflicts(teacherId, context);
export function compareTeacherAcrossYears(teacherId, years);
‚ö†Ô∏è STRICT TOKEN LIMIT:

‡∏´‡∏¢‡∏∏‡∏î‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÉ‡∏Å‡∏•‡πâ 80% token limit
‡∏´‡∏¢‡∏∏‡∏î‡∏ó‡∏µ‡πà‡∏à‡∏∏‡∏î‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏° (‡∏à‡∏ö section)
‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô: "üîÑ [CONTINUE_NEEDED] - ‡∏û‡∏¥‡∏°‡∏û‡πå 'continue' ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ó‡∏≥‡∏ï‡πà‡∏≠‡∏™‡πà‡∏ß‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏´‡∏•‡∏∑‡∏≠"
‡∏ö‡∏≠‡∏Å‡∏ß‡πà‡∏≤‡∏´‡∏¢‡∏∏‡∏î‡∏ï‡∏£‡∏á‡πÑ‡∏´‡∏ô ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏à‡∏∞‡πÑ‡∏î‡πâ‡∏ó‡∏≥‡∏ï‡πà‡∏≠‡∏ñ‡∏π‡∏Å‡∏à‡∏∏‡∏î

‚ö†Ô∏è rule

‡∏ó‡∏≥‡∏ó‡∏µ‡∏•‡∏∞‡∏™‡πà‡∏ß‡∏ô‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô‡∏ô‡∏ô‡∏ô
‡∏ó‡∏≥‡∏ó‡∏µ‡∏•‡∏∞‡∏™‡πà‡∏ß‡∏ô ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏£‡∏±‡∏Å‡∏©‡∏≤ Token Limit
‡∏ó‡∏≥‡∏ï‡∏≤‡∏° Token Limit Rule




** ‡∏≠‡∏¢‡πà‡∏≤‡πÉ‡∏´‡πâ‡∏°‡∏±‡∏ô‡πÄ‡∏Å‡∏¥‡∏ô Token ‡πÇ‡∏ò‡πà‡πÄ‡∏ß‡πà‡∏¢‡∏¢
** ‡∏´‡πâ‡∏≤‡∏°‡∏ó‡∏≥‡∏ô‡∏≠‡∏Å‡πÄ‡∏´‡∏ô‡∏∑‡∏≠‡∏û‡∏£‡∏≠‡∏°‡∏û‡πå‡πÄ‡∏î‡πá‡∏î‡∏Ç‡∏≤‡∏î
** rate limit ‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏ó‡∏µ‡∏™‡∏∏‡∏î ‡∏ó‡∏≥‡∏ó‡∏µ‡∏•‡∏∞‡∏™‡πà‡∏ß‡∏ô‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô
Prompt 24: Enhanced Substitution Page
‡∏™‡∏£‡πâ‡∏≤‡∏á enhanced substitution page ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Multi-Year ‡∏û‡∏£‡πâ‡∏≠‡∏° Export ‡πÅ‡∏•‡∏∞ Rooms:
js/pages/substitution.js:
Features:

Context-aware substitution data
Semester-specific Hall of Fame
Room information in substitution records
Export functionality
Historical substitution analysis

Context Integration:
javascriptexport async function initSubstitutionPage(context);
export function updatePageForContext(newContext);
export async function loadSubstitutionDataForContext(context);
export function validateSubstitutionAccess(context);
Sub Navigation Enhanced:
javascriptexport function initSubstitutionSubNav(context);
export function switchToHallOfFame(context);
export function switchToSubstitutionSchedule(context);
export function updateSubNavForContext(newContext);
Hall of Fame (Context-Aware):
javascriptexport function renderHallOfFame(context) {
  return `
    <div class="hall-of-fame-header">
      <h3>üèÖ Hall of Fame - ‡∏Ñ‡∏£‡∏π‡∏™‡∏≠‡∏ô‡πÅ‡∏ó‡∏ô</h3>
      <p class="context-info">
        ${formatSemester(context.semester)} ‡∏õ‡∏µ‡∏Å‡∏≤‡∏£‡∏®‡∏∂‡∏Å‡∏©‡∏≤ ${context.year}
      </p>
    </div>
    <div class="hall-of-fame-content">
      ${renderSubstituteRanking(context)}
      ${renderSubstituteStats(context)}
    </div>
  `;
}

export function calculateSubstituteStats(context);
export function generateSubstituteRanking(context);
export function showSemesterAchievements(context);
Substitution Schedule View:
javascriptexport function renderDatePicker(context);
export async function loadSubstitutionByDate(date, context);

export function renderAbsentTeacherCards(absences, context) {
  return absences.map(absence => `
    <div class="absent-card">
      <h4>${absence.teacher_name}</h4>
      <p class="reason">${absence.reason}</p>
      <div class="affected-classes">
        ${absence.affected_schedules.map(schedule => `
          <div class="schedule-item">
            <span class="period">‡∏Ñ‡∏≤‡∏ö ${schedule.period}</span>
            <span class="subject">${schedule.subject_name}</span>
            <span class="class">${schedule.class_name}</span>
            <span class="room">
              ${schedule.room_name} 
              <span class="badge ${getRoomTypeBadgeClass(schedule.room_type)}">
                ${schedule.room_type}
              </span>
            </span>
          </div>
        `).join('')}
      </div>
    </div>
  `).join('');
}

export function renderSubstituteAssignments(assignments, context);
Export Functionality:
javascriptexport function renderSubstitutionExportBar(context) {
  return `
    <div class="export-bar">
      <button class="btn btn--sm btn--export" data-export-type="csv" data-target="substitution">
        üìÑ Export ‡∏£‡∏≤‡∏¢‡∏ß‡∏±‡∏ô CSV
      </button>
      <button class="btn btn--sm btn--export" data-export-type="xlsx" data-target="substitution">
        üìä Export ‡∏£‡∏≤‡∏¢‡∏ß‡∏±‡∏ô Excel
      </button>
      <button class="btn btn--sm btn--export" data-export-type="monthly">
        üìÖ Export ‡∏£‡∏≤‡∏¢‡πÄ‡∏î‡∏∑‡∏≠‡∏ô
      </button>
    </div>
  `;
}

export async function exportSubstitutionData(context, format, dateRange = 'daily') {
  const substitutionData = await normalizeSubstitutionForExport({
    date: context.selectedDate,
    semesterId: context.semesterId,
    dateRange
  });
  
  const filename = generateExportFilename(
    `‡∏™‡∏≠‡∏ô‡πÅ‡∏ó‡∏ô-${context.selectedDate || '‡∏£‡∏≤‡∏¢‡πÄ‡∏î‡∏∑‡∏≠‡∏ô'}`, 
    context
  );
  
  switch(format) {
    case 'csv': return exportTableToCSV(substitutionData, filename);
    case 'xlsx': return exportTableToXLSX(substitutionData, filename);
    case 'monthly': return exportMonthlySubstitutionReport(context);
  }
}
Enhanced Features:
javascriptexport function analyzeSubstitutionPatterns(context);
export function showRoomImpactAnalysis(context); // ‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏ú‡∏•‡∏Å‡∏£‡∏∞‡∏ó‡∏ö‡∏ï‡πà‡∏≠‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏´‡πâ‡∏≠‡∏á
export function generateSubstitutionReport(context);
export function compareSubstitutionAcrossYears(teacherId, years);
‚ö†Ô∏è STRICT TOKEN LIMIT:

‡∏´‡∏¢‡∏∏‡∏î‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÉ‡∏Å‡∏•‡πâ 80% token limit
‡∏´‡∏¢‡∏∏‡∏î‡∏ó‡∏µ‡πà‡∏à‡∏∏‡∏î‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏° (‡∏à‡∏ö section)
‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô: "üîÑ [CONTINUE_NEEDED] - ‡∏û‡∏¥‡∏°‡∏û‡πå 'continue' ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ó‡∏≥‡∏ï‡πà‡∏≠‡∏™‡πà‡∏ß‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏´‡∏•‡∏∑‡∏≠"
‡∏ö‡∏≠‡∏Å‡∏ß‡πà‡∏≤‡∏´‡∏¢‡∏∏‡∏î‡∏ï‡∏£‡∏á‡πÑ‡∏´‡∏ô ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏à‡∏∞‡πÑ‡∏î‡πâ‡∏ó‡∏≥‡∏ï‡πà‡∏≠‡∏ñ‡∏π‡∏Å‡∏à‡∏∏‡∏î

‚ö†Ô∏è rule

‡∏ó‡∏≥‡∏ó‡∏µ‡∏•‡∏∞‡∏™‡πà‡∏ß‡∏ô‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô‡∏ô‡∏ô‡∏ô
‡∏ó‡∏≥‡∏ó‡∏µ‡∏•‡∏∞‡∏™‡πà‡∏ß‡∏ô ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏£‡∏±‡∏Å‡∏©‡∏≤ Token Limit
‡∏ó‡∏≥‡∏ï‡∏≤‡∏° Token Limit Rule




** ‡∏≠‡∏¢‡πà‡∏≤‡πÉ‡∏´‡πâ‡∏°‡∏±‡∏ô‡πÄ‡∏Å‡∏¥‡∏ô Token ‡πÇ‡∏ò‡πà‡πÄ‡∏ß‡πà‡∏¢‡∏¢
** ‡∏´‡πâ‡∏≤‡∏°‡∏ó‡∏≥‡∏ô‡∏≠‡∏Å‡πÄ‡∏´‡∏ô‡∏∑‡∏≠‡∏û‡∏£‡∏≠‡∏°‡∏û‡πå‡πÄ‡∏î‡πá‡∏î‡∏Ç‡∏≤‡∏î
** rate limit ‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏ó‡∏µ‡∏™‡∏∏‡∏î ‡∏ó‡∏≥‡∏ó‡∏µ‡∏•‡∏∞‡∏™‡πà‡∏ß‡∏ô‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô
Prompt 25: Enhanced Admin Page
‡∏™‡∏£‡πâ‡∏≤‡∏á enhanced admin page ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Multi-Year System ‡∏û‡∏£‡πâ‡∏≠‡∏° Rooms Management ‡πÅ‡∏•‡∏∞ Export:
js/pages/admin.js:
Features:

Multi-year data management ‡∏£‡∏ß‡∏° rooms
Context-aware CRUD operations
Room management system
Export/Import functionality
Year transition workflows
Advanced admin functions

Context-Aware Admin:
javascriptexport async function initAdminPage(context);
export function setAdminContext(year, semesterId);
export function validateAdminContextAccess(context, user);
export function updateAdminUIForContext(context);
Enhanced Data Management UI:
javascriptexport function renderDataManagementSection(context) {
  return `
    <div class="admin-header">
      <h2>‚öôÔ∏è ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏£‡∏∞‡∏ö‡∏ö (Admin Only)</h2>
      <div class="admin-context">
        <p>‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•: <strong>${formatSemester(context.semester)} ‡∏õ‡∏µ‡∏Å‡∏≤‡∏£‡∏®‡∏∂‡∏Å‡∏©‡∏≤ ${context.year}</strong></p>
      </div>
    </div>
    <div class="admin-tabs">
      <button class="tab-btn active" data-tab="teachers">‡∏Ñ‡∏£‡∏π</button>
      <button class="tab-btn" data-tab="classes">‡∏´‡πâ‡∏≠‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô</button>
      <button class="tab-btn" data-tab="rooms">‡∏´‡πâ‡∏≠‡∏á</button>
      <button class="tab-btn" data-tab="subjects">‡∏ß‡∏¥‡∏ä‡∏≤</button>
      <button class="tab-btn" data-tab="schedules">‡∏ï‡∏≤‡∏£‡∏≤‡∏á</button>
    </div>
  `;
}

export function showTeacherManagement(context);
export function showClassManagement(context);
export function showRoomManagement(context); // ‡πÉ‡∏´‡∏°‡πà
export function showSubjectManagement(context);
export function showScheduleManagement(context);
Room Management (‡πÉ‡∏´‡∏°‡πà):
javascriptexport function showRoomManagement(context) {
  return `
    <div class="room-management">
      <h3>‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏´‡πâ‡∏≠‡∏á - ${context.year}</h3>
      
      <div class="room-controls">
        <button class="btn btn--primary" onclick="showAddRoomForm()">
          ‚ûï ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏´‡πâ‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà
        </button>
        <button class="btn btn--export" onclick="exportRooms('csv')">
          üìÑ Export ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏´‡πâ‡∏≠‡∏á
        </button>
      </div>
      
      <div class="room-grid">
        <div class="room-type-section">
          <h4>‡∏´‡πâ‡∏≠‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ (CLASS)</h4>
          <div id="class-rooms-list"></div>
        </div>
        <div class="room-type-section">
          <h4>‡∏´‡πâ‡∏≠‡∏á‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ (TECH)</h4>
          <div id="tech-rooms-list"></div>
        </div>
      </div>
    </div>
  `;
}

export async function addRoom(roomData, context) {
  roomData.year = context.year;
  return await roomAPI.create(roomData, context.year);
}

export function validateRoomData(roomData) {
  // ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö name, room_type, capacity
}
Enhanced AI Generation:
javascriptexport async function mockAIGenerationForContext(context) {
  return `
    <div class="ai-generation">
      <h3>ü§ñ ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏™‡∏≠‡∏ô‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥</h3>
      <p>‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö ${formatSemester(context.semester)} ‡∏õ‡∏µ‡∏Å‡∏≤‡∏£‡∏®‡∏∂‡∏Å‡∏©‡∏≤ ${context.year}</p>
      
      <div class="ai-options">
        <label>
          <input type="checkbox" checked> ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Conflict ‡∏Ñ‡∏£‡∏π
        </label>
        <label>
          <input type="checkbox" checked> ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Conflict ‡∏´‡πâ‡∏≠‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô
        </label>
        <label>
          <input type="checkbox" checked> ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Conflict ‡∏´‡πâ‡∏≠‡∏á
        </label>
        <label>
          <input type="checkbox" checked> ‡∏õ‡∏è‡∏¥‡∏ö‡∏±‡∏ï‡∏¥‡∏ï‡∏≤‡∏° subject_constraints
        </label>
      </div>
      
      <button class="btn btn--primary" onclick="generateSchedule()">
        ‚ö° ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏™‡∏≠‡∏ô
      </button>
    </div>
  `;
}

export function validateGeneratedSchedule(scheduleData, context) {
  // ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö conflict ‡∏Ñ‡∏£‡∏ö 3 ‡∏°‡∏¥‡∏ï‡∏¥ + subject_constraints
}
Bulk Operations & Export:
javascriptexport async function bulkAddRooms(roomsData, context);
export async function importDataFromFile(fileData, dataType, context);

export function renderAdminExportBar(context) {
  return `
    <div class="admin-export-bar">
      <h4>üì§ Export ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏£‡∏∞‡∏ö‡∏ö</h4>
      <div class="export-buttons">
        <button class="btn btn--export" onclick="exportAllData('teachers')">
          Export ‡∏Ñ‡∏£‡∏π‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
        </button>
        <button class="btn btn--export" onclick="exportAllData('rooms')">
          Export ‡∏´‡πâ‡∏≠‡∏á‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
        </button>
        <button class="btn btn--export" onclick="exportAllData('schedules')">
          Export ‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏™‡∏≠‡∏ô‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
        </button>
        <button class="btn btn--export" onclick="exportSystemReport()">
          üìä Export ‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏£‡∏∞‡∏ö‡∏ö
        </button>
      </div>
    </div>
  `;
}

export async function exportSystemReport(context) {
  // ‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏Ñ‡∏£‡∏≠‡∏ö‡∏Ñ‡∏•‡∏∏‡∏°: teachers, rooms, subjects, schedules, conflicts
}
‚ö†Ô∏è STRICT TOKEN LIMIT:

‡∏´‡∏¢‡∏∏‡∏î‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÉ‡∏Å‡∏•‡πâ 80% token limit
‡∏´‡∏¢‡∏∏‡∏î‡∏ó‡∏µ‡πà‡∏à‡∏∏‡∏î‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏° (‡∏à‡∏ö section)
‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô: "üîÑ [CONTINUE_NEEDED] - ‡∏û‡∏¥‡∏°‡∏û‡πå 'continue' ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ó‡∏≥‡∏ï‡πà‡∏≠‡∏™‡πà‡∏ß‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏´‡∏•‡∏∑‡∏≠"
‡∏ö‡∏≠‡∏Å‡∏ß‡πà‡∏≤‡∏´‡∏¢‡∏∏‡∏î‡∏ï‡∏£‡∏á‡πÑ‡∏´‡∏ô ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏à‡∏∞‡πÑ‡∏î‡πâ‡∏ó‡∏≥‡∏ï‡πà‡∏≠‡∏ñ‡∏π‡∏Å‡∏à‡∏∏‡∏î

‚ö†Ô∏è rule

‡∏ó‡∏≥‡∏ó‡∏µ‡∏•‡∏∞‡∏™‡πà‡∏ß‡∏ô‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô‡∏ô‡∏ô‡∏ô
‡∏ó‡∏≥‡∏ó‡∏µ‡∏•‡∏∞‡∏™‡πà‡∏ß‡∏ô ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏£‡∏±‡∏Å‡∏©‡∏≤ Token Limit
‡∏ó‡∏≥‡∏ï‡∏≤‡∏° Token Limit Rule




** ‡∏≠‡∏¢‡πà‡∏≤‡πÉ‡∏´‡πâ‡∏°‡∏±‡∏ô‡πÄ‡∏Å‡∏¥‡∏ô Token ‡πÇ‡∏ò‡πà‡πÄ‡∏ß‡πà‡∏¢‡∏¢
** ‡∏´‡πâ‡∏≤‡∏°‡∏ó‡∏≥‡∏ô‡∏≠‡∏Å‡πÄ‡∏´‡∏ô‡∏∑‡∏≠‡∏û‡∏£‡∏≠‡∏°‡∏û‡πå‡πÄ‡∏î‡πá‡∏î‡∏Ç‡∏≤‡∏î
** rate limit ‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏ó‡∏µ‡∏™‡∏∏‡∏î ‡∏ó‡∏≥‡∏ó‡∏µ‡∏•‡∏∞‡∏™‡πà‡∏ß‡∏ô‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô
Prompt 26: Enhanced Main App Integration & Documentation
‡∏™‡∏£‡πâ‡∏≤‡∏á enhanced main application ‡πÅ‡∏•‡∏∞ comprehensive documentation:

js/app.js:

Application Architecture:

javascript
class SchoolScheduleApp {
  constructor() {
    this.context = null;
    this.modules = {};
    this.initialized = false;
    this.errorState = null;
    this.exportHandlers = {}; // ‡πÉ‡∏´‡∏°‡πà - ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£ export
  }

  async init() {
    try {
      await this.initializeCore();
      await this.loadInitialContext();
      await this.initializeModules();
      await this.setupEventListeners();
      await this.setupExportHandlers(); // ‡πÉ‡∏´‡∏°‡πà
      await this.loadInitialData();
      this.initialized = true;
    } catch (error) {
      await this.handleInitializationError(error);
    }
  }
}
Core Initialization:

javascript
export async function initializeCore() {
  // Setup services
  await dataService.init({ mode: 'mock' }); // ‡∏´‡∏£‡∏∑‡∏≠ 'api'
  await yearService.init();
  await globalContext.init();
}

export async function loadInitialContext() {
  // Load from storage or default to current active year/semester
  const stored = globalContext.loadContextFromStorage();
  if (stored && globalContext.isContextValid(stored)) {
    await globalContext.setContext(stored.year, stored.semesterId);
  } else {
    const currentYear = getCurrentAcademicYear();
    const currentSemester = getCurrentSemester();
    if (currentYear && currentSemester) {
      await globalContext.setContext(currentYear.year, currentSemester.id);
    }
  }
}

export async function loadInitialData() {
  const context = globalContext.getContext();
  if (context.currentYear) {
    // ‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô ‡∏£‡∏ß‡∏° rooms
    await dataService.loadYearData(context.currentYear);
  }
}
Export Integration:

javascript
export function setupExportHandlers() {
  // Bind export buttons across all pages
  document.addEventListener('click', async (e) => {
    if (e.target.matches('[data-export-type]')) {
      const type = e.target.dataset.exportType;
      const target = e.target.dataset.target;
      
      await handleExportClick(type, target, e.target);
    }
  });
}

export async function handleExportClick(exportType, target, button) {
  try {
    showExportProgress(button);
    
    const context = globalContext.getContext();
    let exportData;
    
    switch(target) {
      case 'student':
        const selectedClass = document.getElementById('class-selector').value;
        exportData = await dataService.normalizeStudentScheduleForExport({
          classId: getClassIdByName(selectedClass),
          semesterId: context.semesterId
        });
        break;
        
      case 'teacher':
        const selectedTeacher = getActiveTeacherId();
        exportData = await dataService.normalizeTeacherScheduleForExport({
          teacherId: selectedTeacher,
          semesterId: context.semesterId
        });
        break;
        
      case 'substitution':
        const selectedDate = getSelectedDate();
        exportData = await dataService.normalizeSubstitutionForExport({
          date: selectedDate,
          semesterId: context.semesterId
        });
        break;
    }
    
    const filename = generateExportFilename(`${target}-export`, context);
    
    switch(exportType) {
      case 'csv':
        await exportTableToCSV(exportData, filename);
        break;
      case 'xlsx':
        await exportTableToXLSX(exportData, filename);
        break;
      case 'gsheets':
        await exportTableToGoogleSheets(exportData, filename);
        break;
    }
    
    showNotification('Export ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à!', 'success');
    
  } catch (error) {
    console.error('Export failed:', error);
    showNotification('Export ‡∏•‡πâ‡∏°‡πÄ‡∏´‡∏•‡∏ß: ' + error.message, 'error');
  } finally {
    hideExportProgress(button);
  }
}
README.md Documentation:

markdown
# ‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏±‡∏î‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏™‡∏≠‡∏ô‡πÅ‡∏ö‡∏ö Multi-Year (Enhanced School Schedule Management System)

## üìã Project Overview
‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏™‡∏≠‡∏ô‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÇ‡∏£‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏°‡∏±‡∏ò‡∏¢‡∏°‡∏®‡∏∂‡∏Å‡∏©‡∏≤ ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏´‡∏•‡∏≤‡∏¢‡∏õ‡∏µ‡∏Å‡∏≤‡∏£‡∏®‡∏∂‡∏Å‡∏©‡∏≤ ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏£‡∏∞‡∏ö‡∏ö Export ‡∏Ñ‡∏£‡∏ö‡∏Ñ‡∏£‡∏±‡∏ô ‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏´‡πâ‡∏≠‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô

## ‚ú® Enhanced Features

### üóìÔ∏è Multi-Year Support
- ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏õ‡∏µ‡∏Å‡∏≤‡∏£‡∏®‡∏∂‡∏Å‡∏©‡∏≤ 2566-2568+
- ‡∏†‡∏≤‡∏Ñ‡πÄ‡∏£‡∏µ‡∏¢‡∏ô 2-3 ‡∏†‡∏≤‡∏Ñ‡∏ï‡πà‡∏≠‡∏õ‡∏µ ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏†‡∏≤‡∏Ñ‡∏§‡∏î‡∏π‡∏£‡πâ‡∏≠‡∏ô
- Context Switching ‡πÅ‡∏ö‡∏ö Real-time
- Historical Data Analysis ‡πÅ‡∏•‡∏∞ Cross-year Comparison

### üè´ Rooms Management System
- **Room Types**: ‡∏´‡πâ‡∏≠‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ (CLASS) ‡πÅ‡∏•‡∏∞‡∏´‡πâ‡∏≠‡∏á‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ (TECH)
- **Subject Constraints**: ‡∏ß‡∏¥‡∏ä‡∏≤‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏´‡πâ‡∏≠‡∏á‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£
- **Conflict Detection**: ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡∏ä‡∏ô‡∏Å‡∏±‡∏ô‡∏Ç‡∏≠‡∏á ‡∏Ñ‡∏£‡∏π/‡∏ä‡∏±‡πâ‡∏ô‡πÄ‡∏£‡∏µ‡∏¢‡∏ô/‡∏´‡πâ‡∏≠‡∏á
- **Room Analytics**: ‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏´‡πâ‡∏≠‡∏á‡πÅ‡∏•‡∏∞‡∏õ‡∏£‡∏∞‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡∏†‡∏≤‡∏û

### üì§ Advanced Export System
- **3 Formats**: CSV (UTF-8+BOM), XLSX, Google Sheets Integration
- **Student Export**: ‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏≤‡∏¢‡∏´‡πâ‡∏≠‡∏á ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏Ñ‡∏£‡∏π/‡∏ß‡∏¥‡∏ä‡∏≤/‡∏´‡πâ‡∏≠‡∏á
- **Teacher Export**: ‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏™‡∏≠‡∏ô‡∏£‡∏≤‡∏¢‡∏Ñ‡∏£‡∏π ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏†‡∏≤‡∏£‡∏∞‡∏á‡∏≤‡∏ô‡∏™‡∏£‡∏∏‡∏õ
- **Substitution Export**: ‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏™‡∏≠‡∏ô‡πÅ‡∏ó‡∏ô ‡∏£‡∏≤‡∏¢‡∏ß‡∏±‡∏ô/‡∏£‡∏≤‡∏¢‡πÄ‡∏î‡∏∑‡∏≠‡∏ô
- **Admin Export**: ‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏£‡∏∞‡∏ö‡∏ö‡∏Ñ‡∏£‡∏ö‡∏Ñ‡∏£‡∏±‡∏ô

### üë®‚Äçüè´ Enhanced Teacher Management
- ‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏™‡∏≠‡∏ô‡∏£‡∏≤‡∏¢‡∏Ñ‡∏£‡∏π ‡∏û‡∏£‡πâ‡∏≠‡∏° Room Information
- ‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏†‡∏≤‡∏£‡∏∞‡∏á‡∏≤‡∏ô‡∏Ç‡πâ‡∏≤‡∏°‡∏õ‡∏µ/‡∏Ç‡πâ‡∏≤‡∏°‡∏†‡∏≤‡∏Ñ‡πÄ‡∏£‡∏µ‡∏¢‡∏ô
- Hall of Fame ‡∏Ñ‡∏£‡∏π‡∏™‡∏≠‡∏ô‡πÅ‡∏ó‡∏ô (‡πÅ‡∏¢‡∏Å‡∏ï‡∏≤‡∏°‡∏†‡∏≤‡∏Ñ‡πÄ‡∏£‡∏µ‡∏¢‡∏ô)
- Teacher Evolution Tracking

### ‚öôÔ∏è Advanced Admin Panel
- **Multi-Year CRUD**: ‡∏Ñ‡∏£‡∏π/‡∏´‡πâ‡∏≠‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô/‡∏´‡πâ‡∏≠‡∏á/‡∏ß‡∏¥‡∏ä‡∏≤/‡∏ï‡∏≤‡∏£‡∏≤‡∏á
- **Data Migration Tools**: ‡∏¢‡πâ‡∏≤‡∏¢/‡πÇ‡∏Ñ‡∏•‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡∏õ‡∏µ
- **AI Schedule Generation**: ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥ (‡∏Å‡∏±‡∏ô‡∏ä‡∏ô‡∏Ñ‡∏£‡∏ö 3 ‡∏°‡∏¥‡∏ï‡∏¥)
- **Substitute Algorithm**: ‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡∏Ñ‡∏£‡∏π‡∏™‡∏≠‡∏ô‡πÅ‡∏ó‡∏ô‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥
- **Bulk Operations**: Import/Export ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏°‡∏≤‡∏Å

## üèóÔ∏è Enhanced Architecture

### Database Schema
**Fixed Tables:**
- `academic_years`: ‡∏õ‡∏µ‡∏Å‡∏≤‡∏£‡∏®‡∏∂‡∏Å‡∏©‡∏≤
- `semesters`: ‡∏†‡∏≤‡∏Ñ‡πÄ‡∏£‡∏µ‡∏¢‡∏ô

**Dynamic Tables (per year):**
- `teachers_{year}`: ‡∏Ñ‡∏£‡∏π‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡∏õ‡∏µ
- `classes_{year}`: ‡∏´‡πâ‡∏≠‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô (‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô)
- `rooms_{year}`: ‡∏´‡πâ‡∏≠‡∏á (‡∏Å‡∏≤‡∏¢‡∏†‡∏≤‡∏û) ‚≠êÔ∏è
- `subjects_{year}`: ‡∏ß‡∏¥‡∏ä‡∏≤‡∏ó‡∏µ‡πà‡∏™‡∏≠‡∏ô + subject_constraints ‚≠êÔ∏è
- `schedules_{year}`: ‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏™‡∏≠‡∏ô (‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏° class_id + room_id)
- `substitutions_{year}`: ‡∏Å‡∏≤‡∏£‡∏•‡∏≤
- `substitution_schedules_{year}`: ‡∏Å‡∏≤‡∏£‡∏™‡∏≠‡∏ô‡πÅ‡∏ó‡∏ô

### Frontend Structure
school-schedule/
‚îú‚îÄ‚îÄ index.html                     # Multi-year + Export UI
‚îú‚îÄ‚îÄ css/                          # Enhanced styling
‚îú‚îÄ‚îÄ js/
‚îÇ   ‚îú‚îÄ‚îÄ app.js                   # Main app + Export handlers
‚îÇ   ‚îú‚îÄ‚îÄ utils/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ export.js            # Export utilities ‚≠êÔ∏è
‚îÇ   ‚îú‚îÄ‚îÄ context/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ globalContext.js     # Context + Rooms integration
‚îÇ   ‚îú‚îÄ‚îÄ api/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ rooms.js             # Rooms API ‚≠êÔ∏è
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ...                  # Other APIs
‚îÇ   ‚îú‚îÄ‚îÄ data/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ rooms.mock.js        # Rooms mock data ‚≠êÔ∏è
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ...                  # Other mock data
‚îÇ   ‚îî‚îÄ‚îÄ pages/                   # Export-enabled pages
‚îî‚îÄ‚îÄ README.md

## üîß Setup & Usage

### Development:
```bash
# ‡πÉ‡∏ä‡πâ Live Server (VS Code) ‡∏´‡∏£‡∏∑‡∏≠
python -m http.server 8000
# ‡πÄ‡∏õ‡∏¥‡∏î http://localhost:8000
Production (Supabase):
javascript
// js/api/config.js
const API_CONFIG = {
  baseURL: 'https://your-project.supabase.co/rest/v1',
  // ... other config
};
üìä Export Specifications
Student Schedule Export
Columns: ‡∏ß‡∏±‡∏ô, ‡πÄ‡∏ß‡∏•‡∏≤, ‡∏Ñ‡∏≤‡∏ö, ‡∏ß‡∏¥‡∏ä‡∏≤, ‡∏£‡∏´‡∏±‡∏™‡∏ß‡∏¥‡∏ä‡∏≤, ‡∏Ñ‡∏£‡∏π, ‡∏´‡πâ‡∏≠‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô, ‡∏´‡πâ‡∏≠‡∏á (‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó)

Teacher Schedule Export
Columns: ‡∏ß‡∏±‡∏ô, ‡πÄ‡∏ß‡∏•‡∏≤, ‡∏Ñ‡∏≤‡∏ö, ‡∏ß‡∏¥‡∏ä‡∏≤, ‡∏´‡πâ‡∏≠‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô, ‡∏´‡πâ‡∏≠‡∏á, ‡∏†‡∏≤‡∏£‡∏∞‡∏á‡∏≤‡∏ô‡∏£‡∏ß‡∏°

Substitution Export
Columns: ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà, ‡∏Ñ‡∏£‡∏π‡∏ó‡∏µ‡πà‡∏Ç‡∏≤‡∏î, ‡πÄ‡∏´‡∏ï‡∏∏‡∏ú‡∏•, ‡∏Ñ‡∏≤‡∏ö, ‡∏ß‡∏¥‡∏ä‡∏≤, ‡∏´‡πâ‡∏≠‡∏á, ‡∏Ñ‡∏£‡∏π‡∏™‡∏≠‡∏ô‡πÅ‡∏ó‡∏ô

üß™ Testing Checklist
‚úÖ Context switching ‚Üí Load data ‡∏ï‡∏£‡∏á‡∏õ‡∏µ/‡∏†‡∏≤‡∏Ñ‡πÄ‡∏£‡∏µ‡∏¢‡∏ô
‚úÖ Rooms ‚Üí ‡πÅ‡∏™‡∏î‡∏á‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡πÅ‡∏•‡∏∞‡∏ï‡∏£‡∏ß‡∏à conflict
‚úÖ Export ‚Üí ‡∏ó‡∏∏‡∏Å‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö ‡∏†‡∏≤‡∏©‡∏≤‡πÑ‡∏ó‡∏¢‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á
‚úÖ Subject constraints ‚Üí ‡∏´‡πâ‡∏≠‡∏á‡∏ï‡∏£‡∏á‡∏ï‡∏≤‡∏°‡∏ó‡∏µ‡πà‡∏Å‡∏≥‡∏´‡∏ô‡∏î
‚úÖ Multi-year comparison ‚Üí ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏≠‡∏î‡∏Ñ‡∏•‡πâ‡∏≠‡∏á
‚úÖ Admin operations ‚Üí CRUD ‡∏Ñ‡∏£‡∏ö‡∏ó‡∏∏‡∏Å entity
‚úÖ Migration tools ‚Üí ‡πÇ‡∏Ñ‡∏•‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à
‚úÖ Mobile responsive ‚Üí Export UI ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ

üöÄ Technology Stack
Frontend: HTML5, CSS3, JavaScript ES6+
Architecture: Multi-year context-aware design
Export: CSV/XLSX/Google Sheets integration
Database: Supabase PostgreSQL (production)
Development: Pure frontend, no build process required
üîí Security & Performance
Year-based data isolation
Context-aware access control
Intelligent caching per year/semester
Lazy loading for historical data
Memory management for large datasets
üìà Future Enhancements
PDF Export ‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏™‡∏ß‡∏¢‡∏á‡∏≤‡∏°
Room Booking System ‡πÅ‡∏¢‡∏Å‡∏ï‡πà‡∏≤‡∏á‡∏´‡∏≤‡∏Å
Dashboard: Workload heatmaps
Advanced Analytics: Trend analysis
Mobile App version
‡∏û‡∏±‡∏í‡∏ô‡∏≤‡πÇ‡∏î‡∏¢: Multi-Year School Schedule System
‡πÄ‡∏ß‡∏≠‡∏£‡πå‡∏ä‡∏±‡∏ô: 2.0 Enhanced (‡∏û‡∏£‡πâ‡∏≠‡∏° Rooms + Export)
‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï: ‡∏°‡∏Å‡∏£‡∏≤‡∏Ñ‡∏° 2025


‚ö†Ô∏è **COMPLETION NOTE:**
‚úÖ **‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à‡πÅ‡∏•‡πâ‡∏ß! ‡∏Ñ‡∏£‡∏ö 26 Prompts Enhanced**

**‡∏™‡∏£‡∏∏‡∏õ‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á:**
1. ‚úÖ ‡πÄ‡∏û‡∏¥‡πà‡∏° Rooms Management System
2. ‚úÖ Export System ‡∏Ñ‡∏£‡∏ö‡∏Ñ‡∏£‡∏±‡∏ô (CSV/XLSX/Sheets)  
3. ‚úÖ Subject Constraints ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏´‡πâ‡∏≠‡∏á
4. ‚úÖ 3-Dimensional Conflict Detection
5. ‚úÖ Context-aware Export UI
6. ‚úÖ Enhanced Documentation
7. ‚úÖ ‡∏Ñ‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏à‡∏≤‡∏Å‡πÑ‡∏ü‡∏•‡πå‡πÄ‡∏î‡∏¥‡∏°
8. ‚úÖ Integration ‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á Rooms + Export + Multi-Year

**‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô:** ‡∏ó‡∏±‡πâ‡∏á 26 prompts ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏ô‡∏≥‡πÑ‡∏õ‡πÉ‡∏ä‡πâ‡πÉ‡∏ô Claude Desktop MCP ‡πÑ‡∏î‡πâ‡∏ó‡∏±‡∏ô‡∏ó‡∏µ ‡∏ó‡∏µ‡∏•‡∏∞ prompt ‡∏ï‡∏≤‡∏°‡∏•‡∏≥‡∏î‡∏±‡∏ö 1‚Üí2‚Üí3...‚Üí26

**Token Management:** ‡πÅ‡∏ï‡πà‡∏•‡∏∞ prompt ‡∏°‡∏µ token limit control ‡πÅ‡∏•‡∏∞ continue mechanism ‡∏Ñ‡∏£‡∏ö‡∏ñ‡πâ‡∏ß‡∏ô

---

‡πÄ‡∏™‡∏£‡πá‡∏à‡∏™‡∏¥‡πâ‡∏ô! üéâ







